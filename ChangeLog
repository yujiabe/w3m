2002-03-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03135] commit of [w3m-dev 03006] is incomplete.
	* file.c (HTMLlineproc2body): check form_int fid attr
			update forms[]
			fix buf->formlist

2002-03-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* part of [w3m-dev-en 00713] contrib: unofficial "current page info" patch, updated for w3m-0.3
	  by Moritz Barsnick <barsnick@gmx.net>
	* map.c (page_info_panel): s/line/lines/
				s/byte/bytes/
				anchor for URL of current anchor

2002-03-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* -title support
	  modified [w3m-dev-en 00710] contrib: unofficial "xterm title" patch, updated for w3m-0.3
	  by Moritz Barsnick <barsnick@gmx.net>
	* NEWS: -title
	* fm.h (displayTitleTerm): added
	* proto.h (term_title): added
	* main.c (fusage): add -title
		(MAIN): add -title
		(quitfm): term_title("")
	* display.c (displayBuffer): term_title()
	* terms.c (title_str): added
		(TERM_INFO): added
		(term_info): modified from mouse_term_info
		(term_info_list): modified from xterm_mouse_term
				add "screen"
		(set_tty): check displayTitleTerm
		(term_title): added

2002-03-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03132] Re: Reload image
	* file.c (loadGeneralFile): b->type = "text/html"
	* file.c (loadImageBuffer): comment out getImageSize()
				image_flag = IMG_FLAG_AUTO
	* file.c (openGeneralPagerBuffer): buf->type = "text/html"
	* frame.c (resetFrameElement): if (buf->mailcap_source) ...
	* frame.c (frame_download_source): if (buf->mailcap_source) ...
	* main.c (vwSrc): #ifdef USE_IMAGE

2002-03-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03133] Re: w3mman.1
	* scripts/w3mman/Makefile (MAN1_TARGETS): added
			(MAN_TARGETS): use $(MAN_TARGETS)
			(INSTALL_MAN): added
			(install): use $MAN1_TARGETS, $(INSTALL_MAN)
	* scripts/w3mman/w3mman2html.cgi.in: $PAGER='cat'

2002-03-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/.cvsignore: add xface2xbm

2002-03-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03130] w3mman.1
	* scripts/w3mman/.cvsignore: add w3mman.1
	* scripts/w3mman/Makefile (MAN_DIR): added
		(MAN_TARGETS): added
		(all): add $(MAN_TARGETS)
		(.in): replace @LIB_DIR@
		(install): install $(MAN_TARGETS)
		(uninstall): uninstall $(MAN_TARGETS)
		(clean): clean $(MAN_TARGETS)
	* scripts/w3mman/w3mman.1.in: added
	* scripts/w3mman/w3mman2html.cgi.in: undef $PAGER

2002-03-15  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03129] Re: X-Face
	* configure (use_xface): ask
	* fm.h (_Buffer): add header_source
	* buffer.c (reshapeBuffer): fix reshape when reading stdin with image
			fix disappearing header when reading stdin
	* file.c (xface2xbm): check file existence
	* file.c (readHeader): save to tmp file
			X-Face when activeImage & displayImage
	* main.c (dispI): comment out checking content type
	* main.c (stopI): ditto
	* scripts/xface2xbm.in: update compface URL
			read from file $XF
			write to file $XBM

2002-03-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* proto.h (readHeader): added

2002-03-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03127] X-Face
	* NEWS: X-Face support
	* configure (use_xface): added
	* config.h.dist (USE_XFACE): added
		(XFACE2XBM): added
	* file.c (xface2xbm): added
		(readHeader): X-Face: handling
	* scripts/Makefile (LIB_TARGETS): add xface2xbm
	* scripts/xface2xbm.in: added

2002-03-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03126] reshapeBuffer() and -m option
	* buffer.c (reshapeBuffer): fix reshapeBuffer() in case of -m option

2002-03-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03125] w3m -m < image
	* file.c (openGeneralPagerBuffer): use internal viewer for -m option

2002-03-13  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03116] Re: aligned block in <td align="center">
	* file.c (flushline): align if align="align"
	* fm.h (RB_LEFT): change value
	       (RB_ALIGN): include RB_LEFT
	       (RB_INTABLE): added
	* table.c (do_refill): obuf.flag |= RB_INTABLE

2002-03-11  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>

	* [w3m-dev 03110] Re: gopher broken
	* file.c (loadGeneralFile): #ifdef USE_GOPHER

2002-03-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03106] Re: displayBuffer
	* display.c (displayBuffer): revert previous changes
	* file.c (process_img): remove space in src attribute

2002-03-10  Rei FURUKAWA <furukawa@tcp-ip.or.jp>

	* [w3m-dev 03096] displayBuffer 
	* display.c (displayBuffer): buf->need_reshape = 0 to prevent recursive
			displayBuffer calls

2002-03-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03095] Re: gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (loadGopherDir): html_quote(url_quote_conv())

2002-03-09  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03092] Reload image
	* file.c (loadImageBuffer): cache->index = 0

2002-03-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03093] Re: gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (loadGopherDir): fix ->ptr
		q should be url_quote()
	* url.c (openURL): url_unquote() for gopher selector

2002-03-09  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03090] Re: gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (loadGeneralFile): if loadGopherDir, type is real_type
	* file.c (loadGopherDir): rewrite to use loadHTMLstream()

2002-03-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03088] gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (form_max): initial value should be -1
	* file.c (loadGopherDir): </A>

2002-03-08  YAMAMOTO Takashi <yamt@mwd.biglobe.ne.jp>

	* [w3m-dev 03087] vi +1 emptyfile
	* etc.c (myEditor): line > 1

2002-03-06  Christian Weisgerber <w3m-dev-en@mips.inka.de>

	* [w3m-dev-en 00699]
	* configure: define SETPGRP() instead of setpgrp()
	* etc.c (mySystem): use SETPGRP() instead of setpgrp()
	* image.c (openImgdisplay): ditto
	* search.c (open_migemo): ditto
	* url.c: revert changes by Dai Sato on 2002-02-01
		since stdio.h and config.h is included with this order
		in fm.h

2002-03-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.3+cvs

2002-03-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.3
	* version.c.in: update
	* doc/README: version 0.3, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-03-06  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03084] A temporary file remains when pipe + 'v'
	* proto.h (saveBufferDelNum): deleted
	* file.c (saveBufferDelNum): deleted
	* file.c (saveBuffer): saveBufferDelNum() renamed 
	* main.c (vwSrc): tmpfname() recorded as fileToDelete
			use saveBuffer() instead of saveBufferDelNum()

2002-03-04  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc-jp/MANUAL.html: add note about file:/cgi-bin
	* doc/MANUAL.html: ditto

2002-03-01  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03073] frame + image
	* file.c (loadGeneralFile): w3m_dump & ~DUMP_FRAME
	* file.c (loadImageBuffer): comment out if (frame_source)

2002-03-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03072] Proxy-Authorization (Re:  Re: https through proxy)
	* file.c (loadGeneralFile) delete Proxy-Authorization set here
	* fm.h (HR_FLAG_PROXY): added
	* main.c (MAIN): need "Basic " for proxy_auth_cookie
	* url.c (HTTPrequest): add seen_proxy_auth
		if proxy and no Proxy-Authorization: header seen and
		has proxy_auth_cookie, use it
	* url.c (openURL): hr->flag |= HR_FLAG_PROXY
	
	* file.c (loadGeneralFile) comment indent fix
	* html.c (TagMAP): ditto

2002-02-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03070] Re: https through proxy
	* url.c (openURL): pass extra_header (Proxy-Authorization:)

2002-02-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03067] Re: https through proxy
	* file.c (loadGeneralFile): comment out ssl_get_certificate here

2002-02-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00691] Re: w3m 0.2.5.1 fails to recognize '<dt id="XXX">'
	* html.c: ATTR_CORE for dt, dd, blockquote, caption 

2002-02-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03064] Re: SELECTED form value
	* form.c (formResetBuffer): set inititial value

2002-02-23  HIDAI Ken-ichi <hidai@nmn.jp>

	* [w3m-dev 03060] doc-jp/README.migemo
	* doc-jp/README.migemo: added

2002-02-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03059] table + hborder + rowspan + valign=bottom
	* table.c (renderTable): add case BORDER_NOWIN:

2002-02-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03057] Re: Bug#134350: w3m: Forgets (http auth) login information upon reload (or almost anything else)
	* etc.c (find_auth): add `file'
			check file as well
	* etc.c (find_auth_cookie): add `file'
	* etc.c (add_auth_cookie): add `file'
	* file.c (AuthBasicCred): add "Basic "
	* file.c (AuthDigestCred): add "Digest "
	* file.c (getAuthCookie): if h_auth == NULL, get recorded cookie
	* file.c (get_auth_cookie): get recorded cookie
	* file.c (loadGeneralFile): don't clear add_auth_cookie_flag 
				by redirection
		add_auth_cookie if authorization is required and passed 
	* fm.h (auth_cookie): add file
	* ftp.c (openFTP): follow change auth_cookie
	* proto.h (get_auth_cookie): added
	* proto.h (find_auth_cookie): add `file'
	* proto.h (add_auth_cookie): add `file'
	* url.c (openURL): get_auth_cookie

2002-02-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03058] mailer
	* NEWS: rc: mailer
	* fm.h (Mailer): change default
	* main.c (MAIN): $MAILER will be used as "mailer"
	* main.c (followA): if "mailer" defined & simple mailto: URL, 
		use mailer instead of w3mmail.cgi
	* main.c (cmd_loadURL): ditto
	* rc.c (params6): remove ifndef USE_W3MMAILER

2002-02-15  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03056] DISPLAY_IMAGE, STOP_IMAGE don't work.
	* main.c (dispI): fix DISPLAY_IMAGE
	* main.c (stopI): fix STOP_IMAGE

2002-02-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03055] LIB_DIR -> w3m_lib_dir()
	* image.c (getCharSize): s/LIB_DIR/w3m_lib_dir()/
	* image.c (openImgdisplay): ditto
	* image.c (getImageSize): ditto

2002-02-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03048] garbage of images on the right edge of termical.
	* display.c (redrawLineImage): fix width calculation

2002-02-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03053] Re: SSL indicator
	* main.c (dump_extra): Output SSL certificate.

2002-02-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* [w3m-dev 03038] LDFLAGS
	* XMakefile: refer to LDFLAGS when linking
	* configure: add -ldflags=*

2002-02-12  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03036]
	* display.c (displayBuffer): ifdef USE_SSL

2002-02-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03034] check buf
	* frame.c (frame_download_source): buf->ssl_certificate can be used
			only if buf != NULL && buf != NO_BUFFER

2002-02-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03033] SSL indicator
	* display.c (displayBuffer): show SSL indicator

2002-02-08  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03025] fix image loading on EWS4800
	* image.c (loadImage): exit if symlink failed
			exit if fopen failed

2002-02-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03022] SSL certificates of frame body
	* frame.h (frame_body): add ssl_certificate
	* frame.c (frame_download_source): save ssl_certificate
	* map.c (append_frame_info): display ssl_certificate of frame_body

2002-02-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03021] Bug#132934: w3m should recognize file:/uris
				in chkURLBuffer function
	* main.c (chkURLBuffer): add "file:" 

2002-02-08  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03017] URI scheme is case insensitive
	* url.c (searchURIMethods): s/strcmp/strcasecmp/

2002-02-08  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 03011] segmentation fault on <input> tag without <form>
	* file.c (process_input): tmp initialization fix

2002-02-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [emacs-w3m:02733] for emacs-w3m better rendering with inline image
	* main.c (MAIN): activeImage = TRUE when -halfdump & display_image=1

2002-02-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03006] fix form order in table
	* file.c (process_form): static
			fix form index order
			method should be quoted
	* file.c (process_form): added
	* file.c (HTMLlineproc2body): add form_id
	* html.c (ALST_FORM_INT): added
	* html.c (form_int): update

2002-02-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03005] fix Bad cert ident
	* istream.c (ssl_match_cert_ident): added
	* istream.c (ssl_check_cert_ident): use ssl_match_cert_ident()

2002-02-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02999] don't ask accept bad cert when background downloading
	* file.c (getAuthCookie): if QuietMessage, return NULL
	* file.c (inputAnswer): if QuietMessage, input "n"

2002-02-05  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02991] form support in w3m -halfdump foo.html|w3m -halfload
	* fm.h (DUMP_HALFEXTRA): deleted
	* proto.h (process_select): return Str
	* file.c (process_img): process_form() fix
	* file.c (process_input): process_form() fix
	* file.c (process_select): return Str
				process_form() fix
	* file.c (process_textarea): process_form() fix
	* file.c (process_form): support -halfdump
	* file.c (HTMLtagproc1): delete case HTML_FORM_INT, HTML_N_FORM_INT
				process_{form,select,textarea}() fix
	* file.c (HTMLlineproc2body): support -halfload
				HTML_INTERNAL, HTML_N_INTERNAL,
				HTML_FORM_INT, HTML_FORM_INT,
				HTML_TEXTAREA_INT, HTML_N_TEXTAREA_INT,
				HTML_SELECT_INT, HTML_N_SELECT_INT,
				HTML_OPTION_INT, HTML_TITLE_ALT
	* file.c (print_internal_information): fix -halfdump
	* file.c (loadHTMLstream): no DUMP_HALFEXTRA
	* html.h: add HTML_INTERNAL, HTML_N_INTERNAL, 
			HTML_SELECT_INT, HTML_N_SELECT_INT,
			HTML_OPTION_INT, HTML_TEXTAREA_INT, HTML_N_TEXTAREA_INT
	* html.c (ALST_TEXTAREA_INT): added
	* html.c (ALST_SELECT_INT): added
	* html.c: add <internal>, </internal>, <select_int>, </select_int>
		<option_int>, <textarea_int>, </textarea_int>
	* main.c (MAIN): delete -halfdump_extra
		dont output <pre> by -halfdump
	* table.c (feed_table_tag): process_{form,select}() fix
		add case HTML_INTERNAL, HTML_N_INTERNAL,
		    HTML_SELECT_INT, HTML_N_SELECT_INT,
		    HTML_OPTION_INT, HTML_TEXTAREA_INT, HTML_N_TEXTAREA_INT,
	* tagtable.tab: add internal, /internal, select_int, /select_int
		option_int, textarea_int, /textarea_int

2002-02-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02990]
	* file.c (doFileCopy): use Strfgets() instead of fgets()
	* file.c (doFileSave): ditto

2002-02-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02989]
	* file.c (inputAnswer): use Strfgets() instead of fgets()

2002-02-04  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* [w3m-dev 02986]
	* file.c (print_internal_information): Don't print boundaries.
          Use henv->f instead of stdout.
	
2002-02-04  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02984] inline image improvements and cleanups
	* config.h.dist (HAVE_SYMLINK) added
	* config.h.dist (HAVE_LSTAT): added
	* configure: symlink() check
	* configure: lstat() check
	* fm.h (maxLoadImage): added
	* form.c (form_write_from_file): s/HAVE_READLINK/HAVE_LSTAT/
	* image.c: include <sys/stat.h>
	* image.c (MAX_LOAD_IMAGE): default 8
	* image.c (max_load_image): deleted
	* image.c (n_load_image): added
	* image.c (showImageProgress): added
	* image.c (loadImage): check load image count
			s/HAVE_READLINK/HAVE_LSTAT/ (HAVE_SYMLINK)
			showImageProgress
	* local.c: include <sys/stat.h>
		s/HAVE_READLINK/HAVE_LSTAT/
	* rc.c (CMT_MAX_LOAD_IMAGE): added
	* rc.c (max_load_image): added
	* doc/README.img: update
	* doc-jp/README.img: update
	
	* file.c (process_img): pre_int fix

2002-02-04  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02985] inputAnswer() and no "ssl_forbid_method"
	* file.c (inputAnswer): buf size is 80
	* url.c (openSSLHandle): if old_ssl_forbid_method == ssl_forbid_method
			ssl path is not modified

2002-02-04  Fumitoshi UKAI <ukai@debian.or.jp>

	* [w3m-dev 02980] Re: code_to_str not found ifndef JP_CHARSET
	* backend.c (get_mime_charset_name): used only ifdef JP_CHARSET

2002-02-04  Kazuhiko <kazuhiko@archi.kyoto-u.ac.jp>

	* [w3m-dev 02979] code_to_str not found ifndef JP_CHARSET
	* file.c (print_internal_information): ifdef JP_CHARSET

2002-02-03  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02967] parallel image downloading
	* fm.h (ImageCache): add touch, pid
	* image.c (getCharSize): retry fscanf
	* image.c (drawImage): retry fflush
	* image.c (MAX_LOAD_IMAGE): added, default 4
	* image.c (image_cache): change to ImageCache**
	* image.c (image_lock): added
	* image.c (load_image_handler): signal SIGUSR1
	* image.c (load_image_next): signal SIGUSR1
	* image.c (loadImage): parallel image downloading
	* image.c (getImage): initialize touch, pid
	* image.c (getImageSize): return value is TRUE or FALSE
			retry fscanf

2002-02-03  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02970] multiple -lnsl -lsocket
	* configure: merge bsdlib and extlib detection, use extlib only
		add ldflags to extlib
		(SYS_LIBRARIES): remove extlib
		(LOCAL_LIBRARIES): exlib only

2002-02-03  TSUCHIYA Masatoshi <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* [w3m-dev 02964] Print data of forms when halfdump option is set
	* backend.c (print_headers): print w3m-current-url and w3m-base-url
	* backend.c (print_formlist): deleted
	* backend.c (internal_get): remove "if (buf->formlist) {}"
	* file.c (print_internal_information): added
	* file.c (loadHTMLstream): if halfdump, print_internal_information
				if w3m_backend, print_internal_information
	* fm.h (DUMP_HALFEXTRA): added
	* main.c (-halfdump_extra): added

2002-02-01  Dai Sato  <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 02972] #include "config.h"
	* url.c, mktable.c: fix the order of including files

2002-02-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02968] fix problem with Netscape-Enterprise WWW-authenticate
	* file.c (findAuthentication): token is case insensitive

2002-02-01  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02961] halfdump image is not consistent
	* file.c (flushline): check f
	* file.c (do_blankline): fix blanklink conditions

2002-02-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gcc -Wall -Werror safe
	* anchor.c (addMultirowsImg): unused variable: fi
	* display.c (redrawLineImage): unused variable: ncol
	* file.c (process_img): uninitialized variables: r2, ni, w0, i0, ismap
			unused variable: url, ext
	* file.c (loadHTMLstream): need volatile image_flag
	* image.c (image_index): int
	* image.c (getCharSize): need prototype
	* image.c (getImage): uninitialized variable: key
			return NULL
	* map.c (follow_map_menu): used only USE_IMAGE: px, py, map
	* map.c (newMapArea): used only USE_IMAGE: p, i, max
	* proto.h (addMultirowsImg): added
	* w3mimgdisplay.c (main): format string fix
	* w3mimgdisplay.c (DrawImage): need (Pixmap) cast

	* inflate.c: indent

2002-02-01  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* w3m-img merge (w3m-0.2.4+cvs-1.278-img-2.2.patch.gz)
	* NEWS: w3m-img merge
	* .cvsignore: add w3mimgdisplay, w3mimgsize
	* XMakefile: add image.c to SRCS 
		     add image.o to OBJS
	             add IMGDISPLAY, IMGSIZE
	* config.h.dist: USE_IMAGE, IMGSIZE, IMGDISPLAY
	* configure: add find_imlib
			ask use_image
		(config.h) add $imgtarget to EXT_TARGETS
			   $def_use_image
			   IMGSIZE, IMGDISPLAY
	* fm.h (MAX_IMAGE): added
	* fm.h (DEFAULT_PIXEL_PER_CHAR): fix for USE_IMAGE
	* fm.h (DEFAULT_PIXEL_PER_LINE): added
	* fm.h (B_REDRAW_IMAGE): added
	* fm.h (IMG_FLAG_SKIP): added
	* fm.h (IMG_FLAG_AUTO): added
	* fm.h (IMG_FLAG_START): added
	* fm.h (IMG_FLAG_STOP): added
	* fm.h (IMG_FLAG_NEXT): added
	* fm.h (IMG_FLAG_UNLOADED): added
	* fm.h (IMG_FLAG_LOADED): added
	* fm.h (IMG_FLAG_ERROR): added
	* fm.h (MapArea): added
	* fm.h (MapList): s/urls/alts/, add area
	* fm.h (ImageCache): added
	* fm.h (Image): added
	* fm.h (Anchor): add image
	* fm.h (Buffer): add imarklist, image_flag, need_reshape
	* fm.h (RG_FRAME_SRC): added
	* fm.h (ALIGN_MIDDLE): added
	* fm.h (ALIGN_TOP): added
	* fm.h (ALIGN_BOTTOM): added
	* fm.h (QuietMessage): added
	* fm.h (Imgdisplay): added
	* fm.h (Imgsize): added
	* fm.h (activeImage): added
	* fm.h (displayImage): added
	* fm.h (autoImage): added
	* fm.h (useExtImageViewer): added
	* fm.h (image_source): added
	* fm.h (view_unseenobject): change default if USE_IMAGE
	* fm.h (set_pixel_per_char): added
	* fm.h (pixel_per_line): added
	* fm.h (set_pixel_per_line): added
	* fm.h (image_scale): added
	* proto.h (dispI): added
	* proto.h (stopI): added
	* proto.h (deleteImage): added
	* proto.h (getAllImage): added
	* proto.h (loadImage): added
	* proto.h (getImage): added
	* proto.h (getImageSize): added
	* proto.h (process_img): add width arg
	* proto.h (loadImageBuffer): added
	* proto.h (follow_map_menu): add a_img arg
	* proto.h (getMapXY): added
	* proto.h (newMapArea): added
	* proto.h (touch_cursor): added
	* proto.h (cURLcode): added
	* proto.h (initImage): added
	* proto.h (termImage): added
	* proto.h (addImage): added
	* proto.h (drawImage): added
	* proto.h (clearImage): added
	* anchor.c (addMultirowsImg): added
	* buffer.c (discardBuffer): deleteImage if USE_IMAGE
	* buffer.c (reshapeBuffer): buf->need_reshape check
	* display.c (fmTerm): if activeImage, stop load image
	* display.c (fmInit): if displayImage, initImage
	* display.c (image_touch): added
	* display.c (draw_image_flag): added
	* display.c (redrawLineImage): added
	* display.c (displayBuffer): buf->need_reshape = TRUE
				mode == B_REDRAW_IMAGE
				image flag checks
				force redraw image in mode == B_REDRAW_IMAGE
				displayBuffer if need reshape
				drawImage
	* display.c (redrawNLine): redrawLineImage
	* display.c (redrawLineImage): added
	* display.c (disp_message_nsec): return immediately if QuietMessage
	* etc.c (reset_signals): ignore SIGUSR1
	* file.c (frame_source): added
	* file.c (_MoveFile): added
	* file.c (cur_baseURL): added
	* file.c (cur_document_code): added
	* file.c (cur_iseq): added
	* file.c (loadGeneralFile): fix fmInitialized and prevtrap checks
				save cur_baseURL
				image_source load
				loadImageBuffer for "image/*"
				frame_source flag
				fix b->type when proc is loadImageBuffer
	* file.c (process_img): add width arg
			parse height and width attr, align
			fix for inline-image
	* file.c (process_input): fix for form <input type="image">
	* file.c (HTMLtagproc1): pass h_env->limit to process_img()
			fix <img_alt> for inline-image
			save cur_baseURL
	* file.c (HTMLlineproc2body): fix <img_alt> for inline-image
	* file.c (loadHTMLstream): fix for inline-image
			fix fmInitialized and prevtrap checks
			save cur_document_code
			save image_flag
	* file.c (loadGopherDir): save cur_document_code
			fix fmInitialized and prevtrap checks
	* file.c (loadImageBuffer): added for inline-image
	* file.c (save2tmp): fix fmInitialized and prevtrap checks
	* frame.c (frame_download_source): set RG_FRAME_SRC flag
			image check
	* funcname.tab (DISPLAY_IMAGE): added
	* funcname.tab (STOP_IMAGE): added
	* html.c (ALST_IMG): add align, ismap
	* html.c (ALST_AREA): add shape, coords
	* html.c (ALST_IMG_ALT): add width, height, usemap, ismap, hseq,
				xoffset, yoffset, top_margin, bottom_margin
	* html.c (AttrMap): add shape, coords, ismap, xoffset, yoffset
	* html.h (ATTR_SHAPE): added
	* html.h (ATTR_COORDS): added
	* html.h (ATTR_ISMAP): added
	* html.h (ATTR_XOFFSET): added
	* html.h (ATTR_YOFFSET): added
	* html.h (ATTR_TOP_MARGIN): added
	* html.h (ATTR_BOTTOM_MARGIN): added
	* html.h (SHAPE_UNKNOWN): added
	* html.h (SHAPE_DEFAULT): added
	* html.h (SHAPE_RECT): added
	* html.h (SHAPE_CIRCLE): added
	* html.h (SHAPE_POLY): added
	* image.c: added
	* main.c (fversion): add USE_IMAGE
	* main.c (fusage): -ppl option
	* main.c (MAIN): set_pixel_per_char if ppc specified
			-ppl option
			loadImage
	* main.c (pushBuffer): deleteImage
	* main.c (quitfm): termImage
	* main.c (selBuf): deleteImage
	* main.c (followA): fix for inline-image and map area
	* main.c (query_from_followform): getMapXY()
	* main.c (setOpt): displayBuffer B_REDRAW_IMAGE
	* main.c (follow_map): fix calculate x, y
	* main.c (dispI): added
	* main.c (stopI): added
	* map.c: include <math.h>
	* map.c (inMapArea): added
	* map.c (follow_map_menu): add a_img arg to handle inline-image
	* map.c (follow_map_panel): use MapArea
	* map.c (getMapXY): added
	* map.c (newMapArea): added
	* menu.c (smChBuf): deleteImage
	* parsetagx.c (toAlign): align top, bottom, middle
	* rc.c (P_SCALE): added
	* rc.c (CMT_PIXEL_PER_LINE): added
	* rc.c (CMT_DISP_IMAGE): added
	* rc.c (CMT_AUTO_IMAGE): added
	* rc.c (CMT_EXT_IMAGE_VIEWER): added
	* rc.c (CMT_IMAGE_SCALE): added
	* rc.c (CMT_IMGDISPLAY): added
	* rc.c (CMT_IMGSIZE): added
	* rc.c (show_param): P_PIXELS
	* rc.c (set_param): P_PIXELS
	* rc.c (sync_with_option): initImage
	* rc.c (to_str): P_PIXELS
	* table.c (feed_table_tag): fix <img> for inline-image
	* tagtable.tab (image): added
	* terms.c (wgetch): retry read when EINTR or EAGAIN
	* terms.c (touch_cursor): added
	* w3mimgdisplay.c: added
	* w3mimgsize.c: added
	* doc/README.func (DISPLAY_IMAGE): added
	* doc/README.func (STOP_IMAGE): added
	* doc/README.img: added
	* doc-jp/README.func (DISPLAY_IMAGE): added
	* doc-jp/README.func (STOP_IMAGE): added
	* doc-jp/README.img: added
	* scripts/w3mhelp.cgi.in: show dispI, stopI
	* scripts/multipart/multipart.cgi.in: inline image support
	
2002-02-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.5+cvs

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.5
	* version.c.in: update
	* doc/README: version 0.2.5, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-01-31  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02960] inflate without memmove()
	* inflate.c: rewrite without memmove()

2002-01-31  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* inflate.c: support raw deflate without zlib header

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02955] compression_decoders error message
	* file.c (uncompress_stream): redirect stderr 
	* inflate.c (main): print error message

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02949] fix for #undef USE_MIGEMO
	* main.c (dispincsrch): need #ifdef USE_MIGEMO

2002-01-31  Fumitoshi UKAI <ukai@debian.or.jp>

	* [w3m-dev 02946] toggle migemo
	* fm.h (migemo_active): added
	* proto.h (inputLineHistSearch): add arg `prop' to incrfunc()
	* linein.c (inputLineHistSearch): ditto
	* main.c (isrch): ditto
	* main.c (dispincsrch): ditto
			C-\ toggle migemo
			underline when migemo is active
	* search.c (migemo_active): deleted
	* search.c (migemo_running): added
	* search.c (init_migemo): migemo_running
	* search.c (migemostr): ditto
	* search.c (forwardSearch): migemo_active > 0
	* search.c (backwardSearch): ditto

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02942] Digest qop=auth support
	* file.c (http_auth): add request to cred() arg
	* file.c (AuthBasicCred): ditto
	* file.c (AuthDigestCred): ditto
	* file.c (AuthDigestCred): support algorithm=MD5, MD5-sess
			qop=auth, auth-int
	* file.c (qstr_unquote): return NULL if input is NULL
	* file.c (none_auth_param): added
	* file.c (findAuthentication): skip weak or unknown auth
	* file.c (getAuthCookie): add request to arg
	* file.c (loadGeneralFile): add request to getAuthCookie()

2002-01-31  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02934] add auth cookie with unquoted realm
	* file.c (loadGeneralFile): need unquote realm

2002-01-31  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02933] segmentation fault when w3m -dump https:
	* file.c (readHeader): use inputAnswer()
	* file.c (getAuthCookie): remove term_cbreak()
	* file.c (checkOverWrite): use inputAnswer()
	* file.c (inputAnswer): added
	* istream.c (ssl_get_certificate): use inputAnswer()
	* main.c (qquitfm): change prompt 
	* proto.h (inputAnswer): added

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02931] use POST in multipart.cgi
	* scripts/multipart/multipart.cgi.in: support POST method

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02930] Re: fixed w3mmail.cgi
	* scripts/w3mmail.cgi.in (lang_header_default): [=_?] should be encoded
	* scripts/w3mmail.cgi.in (lang_body_default): '=' should be encoded

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02929] Re: fixed w3mmail.cgi
	* file.c (openPagerBuffer): use content_charset as document_code
	* file.c (getNextPage): code is document_code or DocumentCode

2002-01-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02928] RFC2617: HTTP Digest authentication
	* NEWS: RFC2617: HTTP Digest authentication
	* config.h.dist (USE_DIGEST_AUTH): added
	* configure (use_digest_auth): added, enabled when openssl found
				(because it used openssl/md5.h)
	* file.c (auth_param): added
	* file.c (http_auth): added
	* file.c (extract_auth_val): added
	* file.c (qstr_unquote): added
	* file.c (extract_auth_param): added
	* file.c (get_auth_param): added
	* file.c (AuthBasicCred): added
	* file.c (digest_hex): added
	* file.c (AuthDigestCred): added
	* file.c (basic_auth_param): added
	* file.c (digest_auth_param): added
	* file.c (www_auth): added
	* file.c (findAuthentication): added
	* file.c (getAuthCookie): rewrite, use http_auth
	* file.c (loadGeneralFile): HRequest hr
	* file.c (loadGeneralFile): use findAuthentication, new getAuthCookie
	* proto.h (HTTPrequestMethod): added
	* proto.h (HTTPrequestURI): added
	* proto.h (openURL): add `hr' arg
	* url.c (HTTPrequestMethod): added
	* url.c (HTTPrequestURI): added
	* url.c (HTTPrequest): use HTTPrequestMethod and HTTPrequestURI
	* url.c (openURL): add `hr' arg

2002-01-30  SASAKI Takeshi <sasaki@ct.sakura.ne.jp>

	* [w3m-dev 02927] mailto: POST method with w3mmail.cgi
	* file.c (loadGeneralFile): pass request even if SCM_UNKNOWN 
			(for external URI loader)
	* scripts/w3mmail.cgi.in: support POST method

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02926] fixed w3mmail.cgi
	* scripts/w3mmail.cgi.in: dont MIME encode for preview
	* scripts/w3mmail.cgi.in (lang_body): add 7bit/8bit flag arg
	* scripts/w3mmail.cgi.in: fix hidden from value
	* scripts/w3mmail.cgi.in (lang_setup): check $LC_ALL, $LC_CTYPE
	* scripts/w3mmail.cgi.in (lang_header_default): fix MIME encode word

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02920] don't use inttypes.h and/or stdint.h
	* mktable.c: remove inttypes.h, uintptr_t, use unsigned long instead
	* configure: remove inttypes.h detection
	* config.h.dist: remove HAVE_INTTYPES_H

2002-01-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02921] use inttypes.h instead of stdint.h
	* configure: check inttypes.h instead of stdint.h
	* config.h.dist: s/STDINT_H/INTTYPES_H/
	* mktable.c: use inttypes.h instead of stdint.h

2002-01-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02919] no need of width
	* scripts/w3mmail.cgi.in: no need width=80 for header field name

2002-01-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02919] wrong table width calculation
	* table.c (set_table_matrix0): refine width calculation

2002-01-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02918] fixed scripts/w3mmail.cgi.in
	* scripts/w3mmail.cgi.in: add width=80 for header field name
	* scripts/w3mmail.cgi.in (url_unquote): use pack instead of chr

2002-01-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02914]
	* history.c (copyHist): added
	* history.h (copyHist): ditto
	* main.c (goURL0): copyHist(URLHist), push current and anchor URLs
		default set by DefaultURLString

2002-01-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02913] wrong table width calculation
	* table.c (set_table_matrix0): refine width calculation

2002-01-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02875] rendering a table with inconsistent colspan,rowspan
	* table.c (feed_table_tag): don't clear HTT_X|HTT_Y 
		instead, if set these flags, break the loop

2002-01-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02909] wrong table width calculation (sf.net Bug#506949)
	* table.c (correct_table_matrix4): added
	* table.c (set_table_matrix0): use correct_table_matrix4()

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02908] document code of frame
	* frame.c (renderFrame): save document_code if JP_CHARSET

2002-01-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02904]
	* rc.c (N_STR): use cpp stringification

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02902] mouse inactive after calling some command with ALARM.
	* main.c (SigAlarm): mouse_inactive() and mouse_active()

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02901] Default URL for GOTO*
	* fm.h (DEFAULT_URL_*): added
	* fm.h (DefaultURLString): added
	* main.c (cmd_loadURL): add arg `referer'
	* main.c (goURL0): 2nd arg is `relative' flag
		check DefaultURLString
		if relative, then current and referer is set
	* main.c (ldhelp): cmd_loadURL arg changes
	* main.c (deletePrevBuf): ditto
	* main.c (cmd_loadBuffer): ditto
	* main.c (adBmark): ditto
	* main.c (follow_map): ditto
	* rc.c (CMT_DEFAULT_URL): added
	* rc.c (defaulturls): added
	* rc.c (params9): add "default_url"

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02901] DNS_ORDER_*
	* fm.h (DNS_ORDER_*): added
	* rc.c (dnsorders): use N_S(DNS_ORDER_*)

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>
	
	* [w3m-dev 02901] ACCEPT_BAD_COOKIE_*
	* file.c (readHeader): accept_bad_cookie is one of ACCEPT_BAD_COOKIE_*
	* fm.h (PERHAPS): deleted
	* fm.h (ACCEPT_BAD_COOKIE_*): added
	* rc.c (n_s): added
	* rc.c (N_S): added
	* rc.c (badcookiestr): use N_S(ACCEPT_BAD_COOKIE_*)

2002-01-24  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02896] fid attr value should be in sequence
	* table.c (feed_table_tag): s/line/""/ for HTML_FORM,HTML_N_FORM

2002-01-24  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02894] Re: goURL
	* file.c (HTMLtagproc1): s/goURL/gorURL/
	* keybind.c (EscKeymap): M-u = GOTO_RELATIVE
	* keybind_lynx.c (EscKeymap): ditto
	* doc/keymap.default: ditto
	* doc/keymap.lynx: ditto
	* doc-jp/keymap.default: ditto
	* doc-jp/keymap.lynx: ditto
	* main.c (MAIN): add $HTTP_HOME or $WWW_HOME to history 
	* main.c (MAIN): add history even if it is local file or local cgi
	* main.c (goURL0): change args, def_url -> current
	* main.c (goURL0): delete ParsedURL *b_url
	* main.c (goURL0): add Buffer *cur_buf
	* main.c (goURL0): if current is supplied, use its URL as default
	* main.c (goURL0): add URL to history if loadURL succeeded
	* main.c (goURL): change args for goURL0()
	* main.c (gorURL): ditto

2002-01-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02889] fix scripts/multipart/multipart.cgi.in
	* scripts/multipart/multipart.cgi.in: return "" instead of next

2002-01-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02885] Re: goURL
	* funcname.tab (GOTO_RELATIVE): added
	* main.c (goURL0): renamed from goURL
		don't add http:// here, if base URL is NULL, cmd_loadURL()
		will add http:// when necessary
	* main.c (goURL): go to URL with current URL
	* main.c (gorURL): go to relative URL
	* proto.h (gorURL): added
	* doc/README.func (GOTO_RELATIVE): added
	* doc-jp/README.func (GOTO_RELATIVE): ditto

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00670] GOTO behavior change
	* main.c (goURL): default URL is current URL
		if retry_http specified, and inputed URL is not absolute URL
		add http:// to top of url
	
	* linein.c (InputKeymap): C-w as backword-kill-word

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02880] URI_PATTERN
	* url.c (URI_PATTERN): better match for % hex hex
	* url.c (chkExternalURIBuffer): don't use URI_PATTERN as format string

2002-01-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02879] reset signals
	* etc.c (reset_signals): added
	* etc.c (mySystem): use reset_signals()
	* file.c (uncompress_stream): use reset_signals()
	* proto.h (reset_signals): added
	* search.c (init_migemo): kill by SIGKILL
	* search.c (open_migemo): use reset_signals()

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* url.c (URI_PATTERN): remove \

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02878] fix regexp [-...], [...-], []...]
	* regexp.c (newRegex0): if first char is `-' or ']' after '[', 
		it isn't meta char.
		if last char in [..] is `-', it isn't meta char.

2002-01-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02877] some fixes for urimethodmap
	* config.h.dist (RC_DIR): remove tailing /
	* configure (mailer): if use_w3mmailer = y, don't ask mailer
	* configure (RC_DIR): remove tailing /
	* fm.h (Mailer): ifndef USE_W3MMAILER
	* main.c (MAIN): ifndef USE_W3MMAILER getenv("MAILER")
	* rc.c ("mailer"): ifndef USE_W3MMAILER
	* regex.c (newRegex0): \ escape kanji chars
	* url.c (searchURIMethods): need escape for - 
	* scripts/w3mmail.cgi.in: move $url, $qurl
	* scripts/w3mmail.cgi.in: url_unquote $to

2002-01-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02876] w3mmail.cgi.in backport from w3mmee
	* action='file://$0'
	* don't add \n to $body's tail
	* $body =~ s/\r+\n/\n/g;
	* s/@cmd/@opt/
	* url_unquote: + should be unquote too

2002-01-18  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02873] delete "decode MIME-body" in doc{,-jp}/README
	* doc-jp/README: delete "decode MIME-body"
	* doc/README: ditto

2002-01-18  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02872] EWS4800 sh doesn't work ${param-word}
	* configure (use_migemo): change migemo URL
	* configure (def_migemo_command): fix for EWS4800
	* configure (def_image_viewer): ditto
	* configure (def_audio_player): ditto

2002-01-18  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02871] ignore SIGCHLD (for at least EWS4800)
	* search.c (open_migemo): signal(SIGCHLD, SIG_IGN);

2002-01-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02870] don't kill migemo by SIGINT 
	* main.c (w3m_exit): init_migemo() to kill migemo 
	* search.c: #include <unistd.h>
	* search.c (migemo_active): added
	* search.c (migemo_pid): added
	* search.c (init_migemo): migemo_active = use_migemo
	* search.c (init_migemo): kill migemo_pid
	* search.c (open_migemo): s/pid/migemo_pid/
	* search.c (open_migemo): setpgrp()
	* search.c (open_migemo): s/use_migemo/migemo_active/
	* search.c (migemostr): ditto
	* search.c (forwardSearch): ditto
	* search.c (backwardSearch): ditto

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02867] mark URL for external URIs
	* main.c (chkURLBuffer): chkExternalURIBuffer()
	* proto.h (chkExternalURIBuffer): added
	* url.c (chkExternalURIBuffer): added

2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02866]
	* search.c: #include <signal.h>
	* search.c (open_migemo): ignore SIG_INT for migemo process
	* search.c (open_migemo): close_tty()
	* search.c (open_migemo): use execl() instead of system()
	
2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02865]
	* search.c (open_migemo): add flush_tty()

2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02864] def_migemo_command
	* configure (def_migemo_command): default is
		migemo -t egrep /usr/local/share/migemo/migemo-dict

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02863] discard migemo error message
	* search.c (open_migemo): close stderr

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02862] SIGPIPE for migemo support
	* main.c (SigPipe): added
	* main.c (MAIN): signal(SIGPIPE, )
	* search.c: #include <errno.h>
	* search.c (migemostr): check fflush() error
	* search.c (migemostr): check result string (empty is err)
	* search.c (migemostr): if error occured, disable use_migemo

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02861] IPv6 configuration check
	* configure: force "#define INET6" if socket(AF_INET6, SOCK_STREAM, 0)
			failed but use_ipv6=y in config.param

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02859]
	* config.h.dist (DEF_MIGEMO_COMMAND): added
	* configure (DEF_MIGEMO_COMMAND): added
	* fm.h (migemo_command): initial value is DEF_MIGEMO_COMMAND
	* main.c (migemostr): remove here, move search.c
	* main.c (srchcore): dont migemostr() here
	* proto.h (init_migemo): added
	* rc.c (sync_with_option): init_migemo()
	* search.c (init_migemo): added
	* search.c (open_migemo): added
	* search.c (migemostr): communicate background migemo
	* search.c (forwardSearch): if regexCompile for migemostr failed, 
		try original str
	* search.c (backwardSearch): ditto

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02855]
	* main.c (dispincsrch): for C-s C-s, revert some changes

2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02854] highlight for incremental search
	* NEWS: highlight for incremental search
	* display.c (EFFECT_MARK_START): added
	* display.c (EFFECT_MARK_END): added
	* display.c (EFFECT_MARK_START_C): added
	* display.c (EFFECT_MARK_END_C): added
	* display.c (EFFECT_MARK_START_M): added
	* display.c (EFFECT_MARK_END_M): added
	* display.c: define_effect for MARK_{START,END}
	* display.c (mark_mode): added
	* display.c (redrawLine): if mark_mode
	* display.c (do_effects): do_effect2(PE_MARK, ...)
	* display.c (do_effects): do_effect1(PE_MARK, ...)
	* fm.h (P_EFFECT): changed to 0x01ff
	* fm.h (PE_MARK): moved
	* fm.h (mark_color): added
	* linein.c (inputLineHistSearch): incrfunc(int ch, Str str)
	* main.c (clear_mark): added
	* main.c (dispincsrch): remove arg `x', `y'
	* main.c (dispincsrch): move SAVE_BUFPOSITION()
	* main.c (srch): if (result & SR_FOUND) clear_mark()
	* main.c (cmd_mark): PE_MARK
	* main.c (nextMk): s/PM_MARK/PE_MARK/
	* main.c (prevMk): s/PM_MARK/PE_MARK/
	* proto.h (inputLineHistSearch): change prototype incfunc()
	* rc.c (CMT_MARK_COLOR): added
	* rc.c (params2): add "mark_color"
	* search.c (set_mark): added
	* search.c (forwardSearch): use set_mark()
	* search.c (backwardSearch): use set_mark()

2002-01-16  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02851]
	* regex.c (newRegex0): fix return NULL;

2002-01-16  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02847]
	* menu.c (initSelectMenu): use /* */ instead of //

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02846]
	* regex.c (newRegex0): check msg

2002-01-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02845]
	* regex.c (newRegex0): check regex->storage[STORAGE_MAX]

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02843] w3mmail.cgi.in update
	* scripts/w3mmail.cgi.in: add $SENDMAIL_OPT
		change html

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02841] migemo patch
	* NEWS: migemo support
	* config.h.dist (USE_MIGEMO): added
	* configure: add use_migemo
	* fm.h (use_migemo): added
	* fm.h (migemo_command: added
	* main.c (fversion): add "migemo"
	* main.c (migemostr): added
	* main.c (srchcore): if use_migemo, use migemostr
	* rc.c (CMT_USE_MIGEMO): added
	* rc.c (CMT_MIGEMO_COMMAND): added
	* rc.c (params3): add use_migemo, migemo_command

2002-01-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* main.c (fversion): add "external-uri-loader,w3mmailer"

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02840]
	* scripts/w3mmail.cgi.in: use LOCAL_COOKIE
	* scripts/w3mmail.cgi.in: no need HTTP response header
	* scripts/w3mmail.cgi.in: fix typo $nkf_NKF
	* scripts/w3mmail.cgi.in: eval { use NKF; } is perl5ism
	* scripts/multipart/multipart.cgi.in: ditto

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02835]
	* rc.c: move label_topline, nextpage_topline from param3 to param1
		param7 is SSL Setting

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02834] mailto: use external program
	* NEWS: use w3mmail.cgi for mailto: URL
	* configure: add use_w3mmailer
	* frame.c (createFrameFile): ifndef USE_W3MMAILER
	* main.c (followA): ifndef USE_W3MMAILER
	* main.c (cmd_loadURL): ifndef USE_W3MMAILER
	* url.c (schemetable): ifndef USE_W3MMAILER, mailto: become SCM_UNKNOWN
	* url.c (parseURL2): ifndef USE_W3MMAILER
	* url.c (_parsedURL2Str): ifndef USE_W3MMAILER
	* url.c (default_urimethods): added
	* url.c (searchURIMethods): check default_urimethods
	* scripts/Makefile: add w3mmail.cgi
	* scritps/w3mmail.cgi.in: added
	* scripts/.cvsignore: ignore w3mmail.cgi

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* file.c (loadGeneralFile): return NULL, not NO_BUFFER

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02833] ssl_forbid_method in SSL Setting
	* rc.c (params7): ssl_forbid_method moved here
	* rc.c (params8): ssl_forbid_method removed here
	* rc.c (sections): params7 ifdef USE_SSL

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02832] external URI loader support
	* NEWS: support external URI loader
	* config.h.dist (USE_EXTERNAL_URI_LOADER): added
	* config.h.dist (USER_URIMETHODMAP): added
	* config.h.dist (SYS_URIMETHODMAP): added
	* configure: ask use_external_uri_loader
	* file.c (loadGeneralFile): return NO_BUFFER, not NULL
	* file.c (loadGeneralFile): add SCM_UNKNOWN for USE_EXTERNAL_URI_LOADER
	* fm.h (urimethodmap_files): added
	* menu.c (initSelectMenu): SCM_UNKNOWN comment out
	* proto.h (initURIMethods): added
	* proto.h (searchURIMethods): added
	* rc.c (CMT_URIMETHODMAP): added
	* rc.c (params6): add urimethodmap
	* rc.c (sync_with_option): add initURIMethods()
	* url.c (parseURL): if SCM_UNKNOWN, url is saved in pu->file
	* url.c (_parsedURL2Str): if SCM_UNKNOWN, url is in pu->file
	* url.c (urimethods): added
	* url.c (loadURIMethods): added
	* url.c (initURIMethods): added
	* url.c (searchURIMethods): added

2002-01-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02828]
	* url.c (_parsedURL2Str): add '/' at the end when scheme is SCM_FTPDIR

2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02829]
	* file.c (loadGeneralFile): return NO_BUFFER
	* file.c (loadGeneralFile): if ssl_get_certificate() fails, 
			no buffer created
	* istream.c (ssl_certificate_validity): deleted
	* istream.c (ssl_set_certificate_validity): ditto
	* istream.c (accept_this_site): added
	* istream.c (ssl_accept_this_site): ditto
	* istream.c (ssl_check_cert_ident): 1st arg is `X509 *'
	* istream.c (ssl_get_certificate): 2nd arg is `char *hostname'
			cert check code moved here from openSSLHandle()
	* url.c (free_ssl_ctx): accept_this_site initialized
	* url.c (openSSLHandle): remove cert check code here
	
2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02827]
	* scripts/Makefile: use sed instead of /bin/sh while read; echo loop

2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02823]
	* scripts/Makefile: don't use read -r 
			because Solaris 8 for x86 doesn't work

2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02822] Print FTP directory list for -dump_extra option
	* file.c (loadGeneralFile): remove FTPDIRtmp, use readFTPDir() instead
		save to buf->sourcefile for -dump_extra
	* ftp.c (FTPDIRtmp): deleted
	* ftp.c (openFTP): delete readFTPDir() part
	* ftp.c (readFTPDir): added
	* proto.h (readFTPDir): added

2002-01-11  Akinori Ito <aito@fw.ipsj.or.jp>

	* [w3m-dev 02819]
	* regex.c (RegexMatch): loop condition changed (from < to <= )
	* regex.c (regmatch_iter): end condition changed (from >= to >)
	* search.c (forwardSearch): next search fix

2002-01-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02818]
	* regex.c (regmatch_iter): return 0 if out of range

2002-01-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02817]
	* menu.c (menuBackwardSearch): new regexMatch()

2002-01-11  aito@fw.ipsj.or.jp

	* [w3m-dev 02815]
	* cookie.c (domain_match): use new regex
	* main.c (chkURLBuffer): use new regex
	* main.c (chkNMIDBuffer): use new regex
	* menu.c (menuForwardSearch): new regexMatch()
	* regex.c (RegexMatch): negative length means whole string
	* regex.c (RegexMatch): new regmatch()
	* regex.c (regmatch_sub_anytime): add 5th arg `char *'
	* regex.c (regmatch_iter): add 4th arg `char *'
	* regex.c (regmatch): add 3rd arg `char *'
	* url.c (openSocket): use new regex

2002-01-10  aito@fw.ipsj.or.jp

	* [w3m-dev 02811] new regexp implementation
	* regex.h: remove defines
	* regex.h: struct regexchar, struct regex
	* regex.c: include stdio.h, stdlib.h, string.h, config.h
	* regex.c: remove include fm.h
	* regex.c (NULL JP_CHARSET IS_ALPHA IS_KANJI1): define unless defined
	* regex.c (RE_*) define
	* regex.c (st_ptr): deleted
	* regex.c (regmatch): remove 4th arg `int'
	* regex.c (newRegex0): rewrite, based on old newRegex
	* regex.c (newRegex): use newRegex0()
	* regex.c (RegexMatch): rewrite
	* regex.c (struct MatchingContext1): added
	* regex.c (struct MatchingContext2): added
	* regex.c (YIELD): added
	* regex.c (regmatch_sub_anytime): added
	* regex.c (regmatch_iter): added
	* regex.c (regmatch): use regmatch_iter()
	* regex.c (regmatch1): rewrite
	* regex.c (lc2c): add 2nd arg `len', rewrite

2002-01-10  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02810]
	* scripts/Makefile: read -r
	* scripts/w3mhelp.cgi.in: fix bugs displaying "C-" only in some case

2002-01-08  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02794]
	* url.c (parseURL): cleanup
	* url.c (parseURL2): file_unquote(pu->file)

2002-01-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.4+cvs

2002-01-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.4
	* version.c.in: update
	* doc/README: version 0.2.4, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-01-06  Fumitoshi UKAI <ukai@debian.or.jp>

	* [w3m-dev 02781] Re: Bug#127883: w3m tries to use xv as default
	* config.h.dist (DEF_IMAGE_VIEWER): added
	* config.h.dist (DEF_AUDIO_PLAYER): added
	* configure (def_image_viewer): added
	* configure (def_audio_player): added
	* configure (DEF_IMAGE_VIEWER): added
	* configure (DEF_AUDIO_PLAYER): added
	* mailcap.c (DefaultMailcap): use DEF_IMAGE_VIEWER, DEF_AUDIO_PLAYER

2002-01-05  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02779] `;' is valid in URL
	* main.c (chkURLBuffer): add ; 

2001-12-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02772]
	* istream.c (ssl_get_certificate): show certificate subject and issuer
	* istream.c (ssl_check_cert_ident): add missing NULL for Strcat_m_charp
	* url.c (openSSLHandle): close(sock) and SSL_free(handle) on failure

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02770] form element outside <form>..</form>
	* main.c (_followForm): check whether parent action is "none"
	* form.c (internal_action): add "none"
	* form.c (do_internal): check internal_action[i].rout
	* file.c (process_input): check cur_form_id
	* file.c (process_select): ditto
	* file.c (process_textarea): ditto
	
2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02769] <form>..</form> as block element
	* file.c (HTMLtagproc1): CLOSE_P for <form>...</form>
	* table.c (feed_table_tag): add feed_table_block_tag for <form></form>

2001-12-28  Hironori Sakamoto <h-saka@lsi.nec.co.jp>

	* [w3m-dev 02765] backend
	* backend.c (internal_get): cleanups
	* file.c (flushline): remove w3m_backend checks
	* file.c (loadHTMLstream): add w3m_backend check
	* fm.h (backend_halfdump_str): deleted
	* fm.h (backend_halfdump_buf): added

2001-12-28  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02761]
	* file.c (loadcmdout): remove unnecessary buf check

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02760]
	* file.c (getshell): check buf == NULL
	* main.c (execdict): check buf == NULL
		buf->type == NULL, then buf->type is set as "text/plain"

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02759] fold textarea
	* fm.h (FoldTextarea): added
	* form.c (formUpdateBuffer): check FoldTextarea
	* rc.c (CMT_FOLD_TEXTAREA): added
	* rc.c (params1): add "fold_textarea"

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02757]
	* main.c (execdict): w = conv_from_system(word)
	* main.c (dictword): call execdict() only

2001-12-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* url.c (openSSLHandle): accept_this_file is out of 
					#ifdef USE_SSL_VERIFY

2001-12-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02753]
	* url (ssl_verify_error_string): deleted
	* url.c (openSSLHandle): use X509_verify_cert_error_string()

2001-12-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02750] RFC2818 server identity check
	* istream.c (ssl_certificate_validity): added
	* istream.c (ssl_set_certificate_validity): added
	* istream.c (ssl_get_certificate): use ssl_certificate_validity
	* istream.h (ssl_set_certificate_validity): added
	* url.c (ssl_verity_error_string): added
	* url.c (openSSLHandle): add accept_this_site
	* url.c (openSSLHandle): dont check by SSL_VERIFY_PEER,
		use SSL_get_verify_result() instead
	* url.c (openSSLHandle): check peer_certificate() and then
		SSL_get_verify_result()

2001-12-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02749] cleanup code for editor,mailer,extbrowser
	* etc.c (myExtCommand): added
	* etc.c (myEditor): added
	* form.c (input_textarea): use myEditor()
	* main.c (pipeBuf): use myExtCommand()
	* main.c (editBf): use myEditor()
	* main.c (editScr): use myEditor()
	* main.c (followA): use myExtCommand()
	* main.c (cmd_loadURL): use myExtCommand()
	* main.c (invoke_browser): use myExtCommand()
	* main.c (execdict): use myExtCommand()
	* proto.h (myExtCommand): added
	* proto.h (myEditor): added

2001-12-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02748] cleanup code for restoring cursor position
	* buffer.c (reshapeBuffer): delete top, linenum, cursorY, pos, 
		currentColumn, formitem
	* buffer.c (reshapeBuffer): add sbuf and 
		use copyBuffer(), restorePosition()
	* buffer.c (reshapeBuffer): use chkURLBuffer(), chkNMIDBuffer()
	* display.c (in_check_url): deleted
	* display.c (displayBuffer): ditto
	* display.c (displayBuffer): s/Currentbuf/buf/
	* display.c (arrangeLine): ditto
	* display.c (restorePosition): added
	* fm.h (TOP_LINENUMBER): added
	* fm.h (CUR_LINENUMBER): added
	* main.c (editBf): delete type, top, linenum, cursorY, pos, 
		currentColumn
	* main.c (editBf): add sbuf and use copyBuffer(), restorePosition()
	* main.c (reload): delete type, top, linenum, cursorY, pos,
		currentColumn
	* main.c (reload): add sbuf and use copyBuffer(), restorePosition()
	* main.c (chkURLBuffer): added
	* main.c (chkURL): chkRULBuffer on Currentbuf
	* main.c (chkNMIDBuffer): added
	* main.c (chkNMID): chkNMIDBuffer on Currentbuf
	* proto.h (chkURLBuffer): added
	* proto.h (chkNMIDBuffer): added
	* proto.h (restorePosition): added

2001-12-27  "OMAE, jun" <jun-o@dai.meta.ne.jp>

	* [w3m-dev 02735]
	* indep.c (bcopy): need (chat *) cast
	* indep.c (bzero): use char * instead of void *

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02745]
	* istream.h: #include <x509v3.h> deleted
	* istream.c: #include <x509v3.h>
	* istream.c (ssl_check_cert_ident): if subjectAltName dNSName found,
		don't try commonName

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02743] RFC2818 server identity check
	* NEWS: RFC2818 server identity check
	* istream.c (ssl_check_cert_ident): added
	* istream.h (ssl_check_cert_ident): ditto
	* istream.h: #include <x509v3.h>
	* url.c (free_ssl_ctx): ssl_ctx = NULL
	* url.c (openSSLHandle): arg hostname to check cert id
	* url.c (openSSLHandle): check SSL_get_verify_result 
			if ssl_verify_server
	* url.c (openSSLHandle): check server identity by ssl_check_cert_ident
	* url.c (openURL): openSSLHandle with pu->host

2001-12-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02715] bugfix in scripts/multipart/multipart.cgi.in
	  was not applied
	* scripts/multipart/multipart.cgi: fix "use NKF" check

2001-12-26  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02732] fix Debian Bug#126381
	  		- Passwords entered for HTTPS are used for HTTP
	* etc.c (find_auth): add port arg
	* etc.c (find_auth_cookie): add port arg
	* etc.c (add_auth_cookie): add port arg
	* file.c (getAuthCookie): find_auth_cookie(host, port, realm)
	* file.c (loadGeneralFile): add_auth_cookie(host, port, realm, ss)
	* fm.h (struct auth_cookie): add port
	* ftp.c (openFTP): find_auth_cookie(host, port, user)
	* ftp.c (openFTP): add_auth_cookie(host, port, user, pwd)
	* proto.h (find_auth_cookie): add port
	* proto.h (add_auth_cookie): add port

2001-12-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02729]
	* doc-jp/README.func (DOWNLOAD): update
	* doc-jp/README.func (EDIT): ditto
	* doc-jp/README.func (EDIT_SCREEN): ditto
	* doc-jp/README.func (SAVE): ditto
	* doc/README.func (DOWNLOAD): ditto
	* doc/README.func (SAVE): ditto
	* doc/README.func (SUBMIT): ditto
	* scripts/w3mhelp.cgi.in: $key is normalized by &norm_key
	* scripts/w3mhelp.cgi.in: keyfunc update
	* scripts/w3mhelp.cgi.in (load_keymap): check data, &norm_key
	* scripts/w3mhelp.cgi.in (norm_key): added

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#496613] LASTLINE in terms.c
	   by Kazuhiro NISHIYAMA (znz)
	* terms.c (LASTLINE): defined(__CYGWIN__) instead of defined(CYGWIN)
	* terms.c (setlinescols): ditto

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#496610] #include <sys/wait.h>
	   by Kazuhiro NISHIYAMA (znz)
	* main.c: #if defined(HAVE_WAITPID) || defined(HAVE_WAIT3)
	* etc.c: ditto
	* file.c: ditto

2001-12-26  Kazuhiro NISHIYAMA <zn@mbf.nifty.com>

	* [w3m-dev 02725] bcopy, bzero
	* etc.c (bcopy): deleted
	* etc.c (bzero): deleted
	* indep.c (bcopy): added
	* indep.c (bzero): added
	* indep.c (bcopy): src should be const
	* fm.h (bcopy): ditto

2001-12-25  Kazuhiko <kazuhiko@archi.kyoto-u.ac.jp>
	
	* [w3m-dev 02727]
	* doc-jp/keymap.default (C-r): ISEARCH_BACK
	* doc-jp/keymap.default (C-s): ISEARCH
	* doc-jp/README.func: fix typo

2001-12-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02726] incremental search
	* NEWS: incremental search
	* fm.h (inputLineHist) define by inputLineHistSearch
	* fm.h (COPY_BUFPOTISION): added
	* fm.h (SAVE_BUFPOSITION): ditto
	* fm.h (RESTORE_BUFPOSITION): ditto
	* funcname.tab (ISEARCH): added
	* funcname.tab (ISEARCH_BACK): added
	* keybind.c (GlobalKeymap): C-s = ISEARCH, C-r = ISEARCH_BACK
	* linein.c (inputLineHistSearch): renamed from inputLineHist,
			new arg incrfunc() for increment search
	* linein.c (inputLineHistSearch): add cursorX, cursorY
	* main.c (srchcore): remove displayBuffer, onA
	* main.c (dispincsrch): added
	* main.c (isrch): ditto
	* main.c (isrchfor): ditto
	* main.c (isrchbak): ditto
	* main.c (srch): add displayBuffer, onA
	* main.c (srch_nxtprv): ditto
	* proto.h (isrchfor): added
	* proto.h (isrchbak): ditto
	* proto.h (inputLineHistSearch): renamed
	* doc/keymap.default (C-r): ISEARCH_BACK
	* doc/keymap.default (C-s): ISEARCH
	* doc/README.func (ISEARCH): added
	* doc/README.func (ISEARCH_BACK): ditto
	* doc-jp/README.func (ISEARCH): added
	* doc-jp/README.func (ISEARCH_BACK): ditto

2001-12-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02723] cleanup resizing
	* main.c (resized): renamed to need_resize_screen
	* main.c (need_resize_screen): added
	* main.c (resize_hook): prototype here
	* main.c (resize_handler): ditto
	* main.c (MAIN): move signal initialization
	* main.c (MAIN): remove duplicate signal initialization
	* main.c (resize_screen): added
	* proto.h (resize_hook): deleted
	* terms.c (mouse_init): remove signal

2001-12-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02721]
	* main.c (resize_handler): added
	* main.c (MAIN): use resize_handler in getch()

2001-12-25  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>
	
	* [w3m-dev 02714] 
	* scripts/w3mhelp.cgi.in: $helpdir should be handled by cygwin_pathconv
		when $CYGPATH=1

2001-12-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02715] bugfix in scripts/multipart/multipart.cgi.in
	* scripts/multipart/multipart.cgi: fix "use NKF" check

2001-12-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02719] (based on [w3m-dev 02708] comments)
	* resize_hook: set resized flag only
	* main.c (MAIN): in key input loop, process resize 
		when resized flag is set

2001-12-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02702] fix problem with emacs-w3m in [w3m-dev 02699]
	* main.c (MAIN): remove some flag initialization, its too early?
		this code caused problem with emacs-w3m.

2001-12-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02700] search refactoring
	* based on http://www.nmn.jp/~hidai/software/w3m/
	* fm.h: add SR_* constants, result value for search
	* main.c (srchcore): added
	* main.c (disp_srchresult): added
	* main.c (srch): added
	* main.c (srchfor): use srch()
	* main.c (srchbak): use srch()
	* main.c (srch_nxtprv): use srchcore() & disp_srch_result()
	* search.c (forwardSearch): return SR_* result value
	* search.c (backwardSearch): ditto

2001-12-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02699] initialization too late
	* main.c (MAIN): initializations moved before arg processing
	* debian bug closes: Bug##102445: ignores SIGWINCH while downloading

2001-12-22  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02696]
	* configure: fix bashism of w3mhelp-{lynx,w3m}_{en,ja} expansion

2001-12-22  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 02687] version number in w3mhelp-*.html (+[w3m-dev 02689])
	* configure (cur_ver): w3mhelp*.html version subst
	* w3mhelp*.html: deleted
	* w3mhelp*.html.in: added

2001-12-22  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02682]
	* doc/README: remove README.dj
	* doc-jp/README.hp: deleted

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02692] w3m on linux/ia64
	* mktable.c: #include "config.h"
	* mktable.c: #include "stdint.h" or uintptr_t typedef
	* mktable.c: use uintptr_t instead of unsigned int
	* configure: check pthread on linux
	* configure: add gc_cflags for linux/ia64,alpha,s390
	* configure: check stdint.h
	* configure (config.h): add $pthreadlib to GCLIB
	* configure (config.h): add $def_have_stdint_h
	* config.h.dist (HAVE_STDINT_H): added
	* Str.c: add #include <stdlib.h> for exit() on some platform (ia64)

2001-12-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02690] RC_DIR in scripts
	* configure (config.h): add RC_DIR
	* config.h.dist: ditto
	* XMakefile: pass RC_DIR
	* scripts/Makefile: subst RC_DIR
	* scripts/dirlist.cgi.in: $RC_DIR initial value
	* scripts/w3mhelp.cgi.in: ditto
	* scripts/w3mhelp.cgi.in (cygwin_pathconv): added

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.3.2+cvs

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3.2 - Security fix in w3m/scripts
	* version.c.in: update
	* w3mhelp-*.html: version 0.2.3.2
	* doc/README: version 0.2.3.2, release date
	* doc-jp/README: ditto
	* NEWS: added

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/w3mhelp.cgi.in: lang=[a-z][a-z] only

2001-12-22  Hironori Sakamoto <h-saka@lsi.nec.co.jp>

	* Security hole in multipart.cgi.in, w3mman2html.cgi.in
	* scripts/w3mhelp.cgi.in: open(F, "< $var") instead of open(F, $var)
	* scripts/w3mhelp.cgi.in: fix eval qq{require ...};
	* scripts/multipart/multipart.cgi.in: ditto
	* scripts/w3mman/w3mman2html.cgi.in: validate $keyword, $section, $man

2001-12-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00656]
	* helpdir default is PREFIX/share/w3m

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.3.1-cvs

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3.1
	* version.c.in: update
	* w3mhelp-*.html: version 0.2.3.1
	* doc/README: version 0.2.3.1, release date
	* doc-jp/README: ditto

2001-12-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02683]
	* configure (def_param): fix wrong behavior unless variable initialized
	* configure (def_param): fix unnecessary eval
	* configure (ask_choice): ditto

2001-12-20  Dai Sato  <satodai@dog.intcul.tohoku.ac.jp>

	* w3mhelp-*.html, doc/README, doc-jp/README: 
	* fix version number to 0.2.3.

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.3-cvs

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3 release
	* version.c.in: update

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3 release condidate 3
	* configure (use_bundled_gclib): added

2001-12-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* w3m 0.2.3 release candidate 2
	* [w3m-dev 02678]
	* configure: get mygcversion from gc/version.h
	* Makefile: update GCLIBTGZ

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3 release candidate 1
	* gc/: sync with w3m-0.2.2-inu-1.1/gc
	* Patches/ews4800: deleted
	* configure: comment out Patches/ews4800

2001-12-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02655] print version and compile options
	* configure: change order of questions
	* main.c (fversion): added
	* main.c (fusage): use fversion()
	* main.c (fusage): add -help, -version
	* main.c (MAIN): add -help, -version

2001-12-20  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02672]
	* main.c (wrap_GC_warn_proc): msg_ring initial value
	* main.c (SigAlarm): not need #ifdef USE_ALARM, already guarded

2001-12-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#493911] too few arguments to function `longjmp' 
		by Kazuhiro NISHIYAMA (znz)
	* configure (LONGJMP): need val argument

2001-12-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#493906] missing #ifdef by Kazuhiro NISHIYAMA (znz)
	* main.c (sig_chld): #ifdef SIGCHLD
	* main.c (SigAlarm): #ifdef USE_ALARM

2001-12-18  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02670]
	* table.c (maximum_visible_length): use strchr()
	* table.c (do_refill): use force==2 mode for flushline()

2001-12-18  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02669] delete cURLcode()
	* main.c (cURLcode): deleted
	* main.c (loadNormalBuf): no need to use cURLcode()
	* main.c (followI): ditto
	* main.c (query_from_followform): need conv_form_encoding()

2001-12-18  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02668] install-sh: -e option of sh(1)
	* install-sh: add set -e

2001-12-18   Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02667]
	* terms.c (mouse_init): #ifdef SIGWINCH guard

2001-12-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02666] resizing on xterm with gpm support
	* terms.c (mouse_init): check Gpm_Open return value, signal(SIGWINCH)

2001-12-16  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02664] install-sh -s option
	* XMakefile: install-sh -s
	* install-sh: support strip option

2001-12-15  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02663] fix prevA() cause loop
	* table.c (do_refill): force flushline
	* table.c (feed_table_tag): push line if <a> has no href attr

2001-12-15  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02659] rc.c (show_srch_str)
	* fm.h (show_srch_str): added
	* main.c (srch_nxtprv): check show_srch_str
	* rc.c (CMT_SHOW_SRCH_STR): added

2001-12-15  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02657] 
	* main.c (chkURL): accept URL ending with '='

2001-12-15  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02656]
	* XMakefile (clean): remove functable.c
	* anchor.c (_put_anchor_new): use Strnew_size() and Strcat_charp_n()
	* indep.c (getescapechar): use GET_MYCDIGIT

2001-12-13  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02541] mouse support on cygwin
	* linein.c (_esc): ignore ESC M <ch> <ch> <ch> on cygwin
	* terms.c (is_xterm): not static on cygwin
	* terms.c (ConInV): INPUT_RECORD * -> char *
	* terms.c (MouseConToXTerm): deleted
	* terms.c (iMouseConXTerm): deleted
	* terms.c (expand_win32_console_input_buffer): added
	* terms.c (read_win32_console_input): use PeekConsoleInput 
						and ReadConsole
	* terms.c (read_win32_console): use read_win32_console_input()
	* terms.c (cmp_tv): added
	* terms.c (subtract_tv): added
	* terms.c (select_or_poll_win32_console): added
	* terms.c (select_win32_console): added
	* terms.c (xterm_mouse_term): deleted
	* terms.c (mouse_term_info): added
	* terms.c (set_tty): modified to use mouse_term_info
	* terms.c (sleep_till_anykey): use select_win32_console on cygwin
	* terms.c (mouse_init): check is_xterm flag
	* terms.c (mouse_end): check is_xterm flag
	* terms.h (is_xterm): if cygwin
	* terms.h (NEED_XTERM_ON): added
	* terms.h (NEED_XTERM_OFF): added

2001-12-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02651] search keymap using hash
	* XMakefile (func.c): depends functable.c funcname1.h
	* XMakefile (functable.c): generated from funcname.tab
	* functable.awk: added
	* fm.h (w3mKeyList): deleted
	* func.c (w3mKeyList): ditto
	* file.c (readHeader): change getFuncList()
	* func.c (w3mNFuncList): deleted
	* func.c (functable.c): include
	* func.c (initKeymap): no need to count w3mFuncList
	* func.c (initKeymap): change getFuncList()
	* func.c (initKeymap): put data to keyData hashtable
	* func.c (countFuncList): deleted
	* func.c (getFuncList): use getHash_si()
	* func.c (getKeyData): use getHash_iv()
	* func.c (addKeyList): deleted
	* func.c (searchKeyList): deleted
	* func.h (textlist.h): include
	* func.h (hash.h): include
	* func.h (KEY_HASH_SIZE): added
	* func.h (KeyListItem): deleted
	* func.h (KeyList): deleted
	* hash.c: s/hist/sv/
	* hash.c: add defhashfunc_i(int, void *, iv)
	* hash.h: s/hist/sv/
	* hash.h: defhash(int, void *, iv)
	* hash.h (putHash_*): added
	* hash.h (getHash_*): added
	* hash.h (defhashfunc_i): added
	* history.c (pushHashHist): s/hist/sv/
	* history.c (getHashHist): s/hist/sv/
	* history.h (Hist): s/hist/sv/
	* main.c (searchKeyData): item deleted
	* main.c (searchKeyData): data added
	* main.c (searchKeyData): use getKayData() instead of searchKeyList()
	* main.c (setAlarm): w3mNFuncList deleted
	* main.c (setAlarm): change getFuncList()
	* menu.c (w3mNFuncList): deleted
	* menu.c (w3mFuncList): deleted
	* menu.c (initMenu): no need to count w3mFuncList
	* menu.c (setMenuItem): change getFuncList()
	* proto.h (countFuncList): deleted
	* proto.h (getFuncList): change args
	* proto.h (addKeyList): deleted
	* proto.h (searchKeyList): deleted
	* proto.h (getKeyData): added

2001-12-11  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02650]
	* file.c (readHeader): Strnew_charp_n() should be used

2001-12-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02647]
	* proto.h (arg_is): deleted
	* etc.c (arg_is): ditto
	* etc.c (searchAnchorArg): ditto

2001-12-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02648] rewrite strCmp() with strcmp()
	* indep.c (strCmp): use strcmp()

2001-12-11  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02441] A patch against functions *_(un)?quote()
	* indep.c (url_unquote_char): use GET_MYCDIGIT, instead of sscanf
	* indep.c (url_quote): use xdigit[] instead of sprintf()
	* myctype.c (MYCTYPE_DIGITMAP): added
	* myctype.h (MYCTYPE_DIGITMAP): ditto
	* myctype.h (GET_MYCDIGIT): added

2001-12-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02647]
	* proto.h (getAnchor): deleted
	* etc.c (getAnchor): deleted

2001-12-09  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02646] Some code cleanups
	* configure: use host libgc instead of gc/gc.a on Linux and/or AIX
	            if possible
	* etc.c (get_cmd): deleted, merged into gethtmlcmd()
	* etc.c (gethtmlcmd): merge get_cmd() code
	* file.c (uncompressed_file_type): initialize slen
	* file.c (passthrough): status deleted
	* file.c (HTMLlineproc0): istr deleted, gethtmlcmd() argument fix
	* fm.h (_GNU_SOURCE): ifndef _GNU_SOURCE
	* proto.h (gethtmlcmd): fix prototypes
	* terms.c: include <sys/ioctl.h> always

2001-12-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02645]
	* configure: fix to prevent rcsid expansion

2001-12-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02641]
	* configure: generate version.c from version.c.in
	* version.c.in: added
	* version.c: deleted, autogenerated from version.c.in
	* .cvsignore (version.c): added

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02642]
	* linein.c (next_dcompl): fix ifdef EMACS_LIKE_LINEEDIT

2001-12-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02640]
	* linein.c (escape_spaces): rewrite
	* linein.c (unescape_spaces): rewrite

2001-12-07  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02638] completion for ! and/or @
	* linein.c (next_compl): check "\\ ", "\\\t"
	* linein.c (escape_spaces): added
	* linein.c (unescape_spaces): added
	* linein.c (doComplete): use unescape_spaces, escape_spaces

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02637]
	* url.c (openSocket): hostname volatile -> const
	* url.c (openSocket): add hname
	* url.c (openSocket): copy hostname to hname to be modified safely
	* url.c (otherinfo): revert previous change

2001-12-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02635] dirlist
	* file.c (loadGeneralFile): use pu.file instead of pu.real_file
	* scripts/dirlist.cgi.in: modified for perl4

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#489463] Host: header is wrong IPv6 literal addr
	* url.c (otherinfo): IPv6 address should be quoted with bracket

2001-12-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02629]
	* linein.c (next_compl): completion for name including space

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02633]
	* url.c (parseURL2): filename should be quoted here, because
	                   it will be unquote() soon

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* rename install.sh to install-sh
	* XMakefile: s/install.sh/install-sh/

2001-12-07  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02622]
	* tagtable.tab (noframes): added
	* tagtable.tab (/noframes): added
	* fm.h (RB_NOFRAMES): added
	* html.h (HTML_NOFRAMES): added
	* html.h (HTML_N_NOFRAMES): added 
	* html.c (ALST_NOFRAMES): added
	* html.c (98 HTML_NOFRAMES): added
	* html.c (99 HTML_N_NOFRAMES): added
	* file.c (HTMLtagproc1): add HTML_NOFRAMES, HTML_N_NOFRAMES
	* file.c (HTMLtagproc1): don't meta refresh if it is in noframes and
	                        auto frame rendering
	* main.c (MAIN): use setAlarmEvent()
	* main.c (SigAlarm): ditto
	* main.c (setAlarm): ditto
	* main.c (setAlarmEvent): check if status == AL_UNSET

2001-12-06  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02619]
	* file.c (loadHTMLString): set document type

2001-12-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02618]
	* configure: fix typo in --mimetypes

2001-12-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02617]
	* scripts/Makefile (HELP_LIBS): added
	* scripts/Makefile (all): depends $(HELP_LIBS)
	* scripts/Makefile (install): depends $(HELP_LIBS)
	* scripts/Makefile (w3mhelp-funcname.pl): split from helplibs
	* scripts/Makefile (w3mhelp-funcdesc.pl): split from helplibs, touch
	* scripts/Makefile (clean): clean *-stamp
	* scripts/.cvsignore: add w3mhelp-funcdesc-stamp

2001-12-05  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02616]
	* buffer.c (gotoLine): use set_delayed_message instead of disp_message
	* buffer.c (gotoRealLine): ditto
	* display.c (delayed_msg): added
	* display.c (displayBuffer): display deleyed_msg if it is set
	* display.c (set_delayed_message): added
	* proto.h (set_delayed_message): added

2001-12-05  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02615]
	* main.c (goLine): _goLine() called twice when prec_num was set

2001-12-05  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02614]
	* XMakefile (HELP_ALLFILES): added
	* XMakefile (INSTALL_PROGRAM): ditto
	* XMakefile (INSTALL_SCRIPT): ditto
	* XMakefile (INSTALL_DATA): ditto
	* XMakefile (install) use INSTALL_{PROGRAM,DATA}
	* XMakefile (install-helpfile): cleanup
	* XMakefile (install-scripts): pass MKDIR
	* XMakefile (uninstall): cleanup
	* XMakefile (clean): cleanup
	* scripts/Makefile (MKDIR): added
	* scripts/Makefile (INSTALL_DATA): added
	* scripts/Makefile (install): mkdir, use INSTALL_DATA
	* scripts/Makefile (uninstall): added
	* scripts/Makefile (clean): ignore errors
	* scripts/multipart/Makefile (MKDIR): added
	* scripts/multipart/Makefile (install): mkdir
	* scripts/multipart/Makefile (uninstall): added
	* scripts/multipart/Makefile (clean): ignore errors
	* scripts/multipart/Makefile (dist): cleanup
	* scripts/w3mman/Makefile (MKDIR): added
	* scripts/w3mman/Makefile (install): mkdir
	* scripts/w3mman/Makefile (uninstall): added
	* scripts/w3mman/Makefile (clean): ignore errors
	* scripts/w3mman/Makefile (dist): cleanup

2001-12-04  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02611] a improvement of find_cookie()
	* cookie.c (make_cookie): domainname is passed as argument
	* cookie.c (find_cookie): FQDN(pu->host) done only once
	* func.c (getQWord): comment reformat
	* local.c (check_local_cgi): ditto

2001-12-04  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02609]
	* proto.h: remove duplicate prototypes

2001-12-04  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02608]
	* local.c (localcgi_get): request == NULL means no ? in URL
	* url.c (openURL): ditto

2001-12-03  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02606]
	* XMakefile (install-scripts): run pwd outside for loop

2001-12-03  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02605] $(PWD) / allocStr()
	
	* XMakefile (install-scripts): use $$TOPDIR instead of $(PWD)

	* indep.c (allocStr): if len is negative, it will copy string in `s'
	* display.c (record_err_message): pass -1 as length to allocStr
	* etc.c (lastFileName): ditto
	* etc.c (mybasename): ditto
	* etc.c (FQDN): ditto
	* file.c (push_tag): ditto
	* func.c (addKeyList): ditto
	* history.c (unshiftHist): ditto
	* history.c (pushHist): ditto
	* indep.c (cleanupName): ditto
	* linein.c (inputLineHist): ditto
	* local.c (dirBuffer): ditto
	* main.c (gotoLabel): ditto
	* main.c (searchKeyData): ditto
	* parsetagx.c (parsedtag_set_value): ditto
	* terms.c (GETSTR): ditto
	* textlist.h (pushText): ditto
	* url.c (DefaultFile): ditto
	* url.c (parseURL): ditto
	* url.c (ALLOC_STR): ditto
	* url.c (parseURL2): ditto
	* url.c (openURL): ditto
	* w3mhelperpanel.c (extractMailcapEntry): ditto

2001-12-02  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02604]
	* configure: kanji_symbols=n if lang=EN
	* file.c (HTMLlineproc2body): initialize rule

2001-12-02  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02603]
	* scripts/w3mhelp.cgi.in: modified for perl4

2001-12-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02601]
	* Makefile (install-core): added
	* Makefile (install-helpfile): added
	* configure (use_help_cgi): default yes if perl found
	* configure (config.h): add HELP_CGI
	* configure (config.h): add $def_use_help_cgi
	* main.c (ldhelp): add USE_HELP_CGI code
	* scripts/Makefile: use w3mhelp*.pl.in
	* scripts/w3mhelp-funcname.pl.in: added
	* scripts/w3mhelp-funcdesc.en.pl.in: added
	* scripts/w3mhelp-funcdesc.ja.pl.in: added
	* scripts/w3mhelp.cgi.in: use %buf_*, %lineedit_*
	* scripts/w3mhelp.cgi.in: use %title

	* [w3m-dev 02660] (based on [w3m-dev 02577] 
			by Kiyokazu SUTO <suto@ks-and-ks.ne.jp>)
	* scripts/.cvsignore: add w3mhelp.cgi w3mhelp-*.pl
	* scripts/Makefile (HELP_DIR): added
	* scripts/Makefile (LIB_TARGETS): add w3mhelp.cgi
	* scripts/Makefile (DOCDIRS): added
	* scripts/Makefile (all): add helplibs
	* scripts/Makefile (.in): subst HELP_DIR, DOCDIRS
	* scripts/Makefile (helplibs): added
	* scripts/Makefile (install): s/DISTDIR/DESTDIR/
	* scripts/Makefile (install): install w3mhelp-*.pl
	
	* scripts/w3mhelp.cgi.in: added

	* XMakefile (INSTALL2): deleted
	* XMakefile (install): split
	* XMakefile (install-core): added
	* XMakefile (install-helpfile): added
	* XMakefile (all-scripts): HELP_DIR
	* XMakefile (install-scripts): HELP_DIR

	* doc/REAMDE.func: add ALARM, SUSPEND
	* doc-jp/README.func: ditto
	
	* config.h.dist: updated

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* url.c (otherinfo): use AcceptLang
	* rc.c (sync_with_option): initialize AcceptLang

2001-11-30  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02599]
	* main.c comment reformat

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02598]
	* url.c (otherinfo): add missing NULL

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02597] (based on [w3m-dev 02594] by aito@fw.ipsj.or.jp)
	* fm.h (AcceptLang): added
	* fm.h (AcceptMedia): added
	* rc.c (CMT_ACCEPTENCODING): added
	* rc.c (CMT_ACCEPTMEDIA): added
	* rc.c (params9): add accept_encoding, accept_media
	* rc.c (sync_with_option): initialize AcceptEncoding and AcceptMedia
	* url.c (otherinfo): use Strcat_m_charp()

2001-11-30  aito@fw.ipsj.or.jp

	* [w3m-dev 02594]
	* configure: s/dcode/display_code/

2001-11-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02596]
	* file.c (acceptableEncoding): fix segfault if no decoder found

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02595]
	* file.c (compression_decoder): add encodings
	* file.c (readHeader): use compression_decoder->encodings

2001-11-30  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02593]
	* form.h: comment reformat
	* matrix.c: ditto
	* menu.c: ditto
	* regex.c: ditto
	* table.h: ditto
	* terms.c: ditto

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02592] Accept: and AcceptEncoding:
	* url.c (otherinfo): use acceptableEncoding() acceptableMimeTypes()

	* file.c: add compression_decoder
	* file.c (check_compress): rewrite by using compression_decoder
	* file.c (compress_application_type): ditto
	* file.c (uncompressed_file_type): ditto
	* file.c (check_command): added
	* file.c (acceptableEncoding): added
	* proto.h (acceptableEncoding): ditto
	* file.c (uncompress_stream): renamed from gunzip_stream
	* file.c (uncompress_stream): rewrite by using compression_decoder
	* configure: add PATH_SEPARATOR

	* mailcap.c (extractMailcapEntry): static
	* mailcap.c (loadMailcap): static
	* proto.h (loadMailcap): removed
	* mailcap.c (acceptableMimeTypes): added
	* proto.h (acceptableMimeTypes): added

	* configure: #define USE_PATH_ENVVAR for __EMX__
	* file.c: GUNZIP_*, BUNZIP2_*, INFLATE_* removed here -> config.h
	* file.c (gunzip_stream): s/(GUNZIP|BUNZIP2|INFLATE)_CMD/\1_CMDNAME/
	* configure (config.h): GUNZIP_*, BUNZIP2_*, INFLATE_* moved here
	* fm.h (DirBufferCommand): use CGI_EXTENSION
	* fm.h (mailcap_list): removed from global -> mailcap.c
	* fm.h (UserMailcap): removed from global -> mailcap.c
	* mailcap.c: static mailcap_list
	* mailcap.c: static UserMailcap
	* proto.h (initMimeTypes): moved
	* proto.h (get_os2_dft): removed
	* rc.c (loadMimeTypes): removed here -> url.c
	* rc.c (initMimeTypes): removed here -> url.c
	* fm.h (mimetypes_list): removed from global -> url.c
	* fm.h (UserMimeTypes): removed from global -> url.c
	* url.c: static mimetypes_list
	* url.c: static UserMimeTypes
	* url.c (loadMimeTypes): moved here
	* url.c (initMimeTypes): moved here

2001-11-30  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02590]
	* main.c (_peekURL): peek URL on <input type="image">

2001-11-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02589]
	* rc.c (params1): remove #ifdef VIEW_UNSEENOBJECTS

2001-11-29  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02588]
	* configure: fix alarm() check

2001-11-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02587]
	* file.c (gunzip_stream): s/__CYGWIN__/USE_BINMODE_STREAM/

	* [w3m-dev 02586]
	* configure: typo s/_zdmachdep.c/zmachdep.c/

	* fix shadow variable
	* main.c (HTMLtagproc1): s/refresh/refresh_interval/
	* matrix.c (LUfactor): s/index/indexarray/
	* matrix.c (LUsolve): ditto
	* matrix.c (m_inverse): ditto
	* matrix.c (LUinverse): ditto
	* table.c (bsearch_2short): ditto
	* table.c (bsearch_double): ditto
	* table.c (dv2sv): ditto
	* table.c (check_cell_width): ditto
	* table.c (set_integered_width): ditto
	* table.c (set_table_width): ditto
	* table.c (check_table_height): ditto
	* ftp.c: s/ftp/current_ftp/
	* ftp.c (Ftpfclose): ditto
	* ftp.c (openFTP): ditto
	* ftp.c (closeFTP): ditto
	* ftp.c (FtpLogin): save to current_ftp
	* ftp.c (openFTP): s/realpath/realpathname/
	* ftp.c (openFTP): remove i
	
	* ftp.c (ftp_pasv): s/sin/sockaddr/
	
	* [w3m-dev 02584] code cleanup

	* linein.c (_esc): fix #ifdef EMACS_LIKE_LINEEDIT
	
	* fix shadow variables (partially)
	* version.c: s/version/w3m_version/
	* configure: ditto
	* fm.h: ditto
	* local.c (set_environ): ditto
	* main.c (fusage): ditto
	* main.c (MAIN): ditto
	* main.c (dispVer): ditto
	* rc.c (load_option_panel): ditto
	* url.c (otherinfo): ditto
	* file.c (readHeader): s/tmp/tmp2/
	* file.c (loadGeneralFile): s/tmp/cmd/
	* file.c (flushline): s/f/df/
	* file.c (doExternal): s/stat/mc_stat/
	* proto.h: ditto
	* mailcap.c (unquote_mailcap_loop): ditto
	* mailcap.c (unquote_mailcap): ditto
	* main.c (cmd_loadBuffer): s/link/linkid/
	* main.c (sig_chld): s/stat/p_stat/
	* fm.h: remove config_file
	* main.c (MAIN): s/config_file/config_filename/
	* rc.c (init_rc): ditto
	* proto.h: ditto
	* rc.c: add config_file 
	* menu.c (goem_menu): s/select/mselect/
	* menu.c (draw_menu_item): ditto
	* menu.c (select_menu): ditto
	* menu.c (goto_menu): ditto
	* menu.c (action_menu): ditto
	* menu.c (mNext): ditto
	* menu.c (mPrev): ditto
	* menu.c (mOk): ditto
	* menu.c (mSrchF): ditto
	* menu.c (mSrchB): ditto
	* menu.c (mSrchN): ditto
	* menu.c (mSrchP): ditto
	* menu.c (process_mMouse): ditto
	* menu.c (smDelBuf): ditto
	* proto.h: ditto

	* printf format
	* display.c (redrawLine): use %*ld instead of %*d

	* require parentheses
	* ftp.c (FtpLogin): add paren

	* fix variable might be clobbered by `longjmp' or `vfork'
	* file.c (loadGeneralFile): add volatile
	* file.c (loadHTMLString): ditto
	* file.c (loadBuffer): ditto
	* file.c (doExternal): ditto
	* frame.c (createFrameFile): ditto
	* main.c (srchfor): ditto
	* main.c (srchbak): ditto
	* main.c (srch_nxtprv): ditto
	* url.c (openSocket): ditto

	* fix unused variables
	* file.c (readHeader): emssg if USE_COOKIE defined
	* file.c (HTMLlineproc2body: remove tmp
	* file.c (saveBufferDelNum): remove p
	* linein.c (_esc): c2 if JP_CHARSET defined
	
	* fix uninitialized variables
	* Str.c (Sprintf): initialize p
	* buffer.c (readBufferCache): initialize prevl
	* conv.c (cConvSE): initialize ub
	* conv.c (_cConvEE): initialize ub
	* conv.c (cConvES): initialize ub
	* file.c (loadGeneralFile): initialize proc, t, prevtral, ss, realm
	* file.c (HTMLlineproc2body): initialize debug
	* file.c (HTMLlineproc0): initialize tbl_mode, tbl_width
	* file.c (loadHTMLstream): initialize prevtrap
	* file.c (loadHTMLString): initialize prevtrap
	* file.c (loadBuffer): initialize prevtrap
	* form.c (formUpdateBuffer): initialize col
	* ftp.c (openFTP): initialize pwd
	* local.c (dirBuffer): initialize nrow
	* main.c (gpm_process_mouse): initialize btn
	* menu.c (gpm_process_menu_mouse): ditto
	* menu.c (initMenu): initialize nmenu, nitem, item
	* parsetagx.c (parse_tag): initialize attr_id
	* rc.c (show_params): initialize t
	* table.c (visible_length): initialize amp_len
	* table.c (set_integered_width): initialize x
	* table.c (check_table_height): initialize space
	* table.c (renderTable): initialize vrulea, vruleb, vrulec
	* terms.c (putchars): initialize s
	* url.c (openSocket): initialize trap, result
	* url.c (openURL): initialize sslh
	
2001-11-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02579]
	* configure: Use environment variables CC, CFLAGS, LDFLAGS

2001-11-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02574] sysconfdir
	* configure: add -bindir=* -libdir=* -helpdir=* -sysconfdir=*
	* configure: add ETC_DIR
	* indep.c (w3m_etc_dir): added
	* indep.h: ditto
	* rc.c (init_rc): use etcFile() instead of libFile()
	* rc.c (etcFile): added
	* proto.h: ditto

2001-11-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02578]
	* file.c (process_anchor): support <input type="image">
	* html.c (ALST_INPUT): add ATTR_SRC, ATTR_WIDTH, ATTR_HEIGHT
	* html.c (MAXA_INPUT): +3
	
	* conv.c (checkShiftCode): fix comments for indent(1)
	* main.c (loadLink): ditto
	* fm.h: ditto
	* file.c (process_anchor); ditto
	* file.c (HTMLlineproc2body): ditto

2001-11-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>
	
	* [w3m-dev 02576]
	* url.c (openURL): remove pu->file = p; which cause segfault
	  because p is not initialized

2001-11-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02571] MAXPATHLEN
	* indep.c (currentdir): #ifdef MAXPATHLEN for GNU Hurd
	* configure: ditto

2001-11-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02572]
	* main.c (_peekURL): initialize s when anchor not found

2001-11-27  aito@fw.ipsj.or.jp
	* Error correction on doc-jp/FAQ.html

2001-11-27  sakane@d4.bsd.nes.nec.co.jp (Yoshinobu Sakane)
	* w3m-doc update.

2001-11-26  Tsutomu Okada <okada@furuno.co.jp>
	
	* [w3m-dev 02537]
	* configure: s/$def_egd/def_use_egd/

2001-11-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02556]
	* indep.c (strcasestr): strcasestr("", "") should not return NULL

	* [w3m-dev 02555]
	* configure: check strcasestr
	* fm.h (_GNU_SOURCE): requires for strcasestr()
	* indep.c (strcasestr): #ifdef HAVE_STRCASESTR
	* indep.c (strcasestr): check whether s2 is NULL
	* indep.h: add #include "config.h"
	* indep.h: #ifdef HAVE_STRCASESTR
	* indep.h: strcasestr() takes const char *

2001-11-26  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02553]
	* configure: SysV's tr requires '[a-z]' '[A-Z]'

2001-11-26  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02547] "message/*" as a kind of text type
	* file.c (is_text_type): add message/*

2001-11-25  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02535] Name conflicts in configure
	* configure: s/libdir/tlibdir/ for loop variables

2001-11-25  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* display.c: call of init_win32_console_handle is deleted

2001-11-25  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02533] setpgrp bug in configure
	* configure: s/have_setpgrp/def_have_setpgrp/
	   s/setpgrp/def_setpgrp/

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Makefile (indent): indent
	* run make indent

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02530]
	* file.c (readHeader): NULL check for domain

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02529]
	* configure (ask_choice): fix bugs
	* configure (include_opt): disable as much as if baby model
	* configure: ask/def parameter after model selected

	* fm.h (use_mark): runtime option use_mark
	* main.c (_mark): ditto
	* main.c (cmd_mark): ditto
	* main.c (nextMk): ditto
	* main.c (prevMk): ditto
	* main.c (reMk): ditto
	* rc.c (CMT_USE_MARK): ditto
	* rc.c (params3): ditto
	
	* fm.h (nextpage_topline): runtime option nextpage_topline
	* etc.c (lineSkip): ditto
	* main.c (nscroll): ditto
	* rc.c (CMT_NEXTPAGE_TOPLINE): ditto
	* rc.c (params3): ditto
	
	* fm.h (label_topline): runtime option label_topline
	* file.c (loadGeneralFile): ditto
	* main.c (loadLink): ditto
	* rc.c (CMT_LABEL_TOPLINE): ditto
	* rc.c (params3): ditto
	
	* fm.h (vi_prec_num): runtime option vi_prec_num
	* main.c (pgFore): ditto
	* main.c (pgBack): ditto
	* rc.c (CMT_VI_PREC_NUM): ditto
	* rc.c (params3): ditto

	* fm.h (emacs_like_lineedit): runtime option emacs_like_lineedit
	* linein.c (inputLineHist): ditto
	* linein.c (_esc): ditto
	* linein.c (next_dcompl): ditto
	* rc.c (CMT_EMACS_LIKE_LINEEDIT): ditto
	* rc.c (params3): ditto

	* fm.h (ftppass_hostnamegen): runtime option ftppass_hostnamegen
	* ftp.c (FtpLogin): ditto
	* rc.c (CMT_FTPPASS_HOSTNAMEGEN): ditto
	* rc.c (params9): ditto
	
2001-11-24  Akihiro Sagawa <sagawa@sohgoh.net>

	* [w3m-dev 02528] RFC2732 URL Patch
	* main.c (chkURL): check RFC2732 style URLs
	* url.c (parseURL): remove RFC2732 address check here, 
	                   move to openSocket()
	* url.c (openSocket): check RFC2732 style hostname
	* url.c (openSocket): check IPv4 address strictly

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02526]
	* .cvsignore: add inflate mktable w3m w3mbookmark w3mhelperpanel
	   _zdmachdep.c
	* configure: 
	  pref_lang -> lang={JA|EN}
	  dcode -> display_code
	  scode -> system_code
	  remove save_params()
	  add def_param(), ask_choice() ask_param()
	  all confiration parameters can be read from config.param
	  s/DICT/USE_DICT/
	  s/BUFINFO/USE_BUFINFO/
	* fm.h: s/DICT/USE_DICT/
	* proto.h: ditto
	* doc/README.dict: ditto
	* doc-jp/README.dict: ditto
	* display.c: s/BUFINFO/USE_BUFINFO/
	* main.c: s/DICT/USE_DICT/ s/BUFINFO/USE_BUFINFO/

2001-11-24  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02523]
	* table.c (feed_table_tag): 
	  fix problem of anchor tag with name attribute only

2001-11-23  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02511]
	* terms.c (isWinConsole): added

2001-11-22  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02509] ([w3m-dev 02499] [w3m-dev 02508])
	* terms.c (setlinescols): initialize LASTLINE 
	* terms.c: add LASTLINE
	* fm.h: extern int LASTLINE
	* linein.c: remove defined(__CYGWIN__) && defined(JP_CHARSET)
	* main.c: remove MOUSE_* definition
	* terms.h: move MOUSE_* definition from main.c
	* terms.c: add tty
	* terms.c (check_win32_console): added
	* terms.c (init_win32_console_handle): ditto
	* terms.c (read_win32_console_input): ditto
	* terms.c (read_win32_console): ditto
	* terms.c (set_tty) add call init_win32_console
	* terms.c (getch) use read_win32_console
	* terms.c (mouse_init): check hConIn
	* terms.c (mouse_end): ditto

2001-11-22  aito@fw.ipsj.or.jp

	* [w3m-dev 02503]
	* indep.c (getescapechar): allow incomplete entity references in URL
	  closes: Debian Bug#120540

2001-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02506]
	* anchor.c (putHmarker): remove #ifdef __CYGWIN__ for bzero()
	* matrix.h (m_copy): ditto
	* table.c (pushTable): ditto

2001-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02505]
	* configure (alarm): check alarm if USE_ALARM

2001-11-22  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02501]
	* .cvsignore: add funcname.c funcname1.h funcname2.h tagtable.c
	* scripts/.cvsignore: added, dirlist.cgi
	* scripts/multipart/.cvsignore: added, multipart.cgi
	* scripts/w3mman/.cvsignore: added, w3mman w3mman2html.cgi
	* doc-jp/README.kokb: deleted
	* gc/makefile.depend: deleted

2001-11-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* table.c (feed_table): fix the following table
	  <table border=1><tr><td>&lt &lt;</table>

2001-11-22  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>

	* [w3m-dev 02497] 
	* url.c (parseURL2): fix #ifdef __EMX__ code
	* indep.c (cleanupName): remove #if 0 /* SUPPORT_NETBIOS_SHARE */ code

2001-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02494]
	* configure (MIME_TYPES): check if mimetypes is empty
	* configure (label_topline): add missing =
	* configure (nextpage_topline): ditto

2001-11-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02493]
	* scripts/multipart/Makefile: s/DISTDIR/DESTDIR/

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02481]
	* s/BG_COLOR/USE_BG_COLOR/
	* s/ANSI_COLOR/USE_ANSI_COLOR/
	* s/COLOR/USE_COLOR/
	* s/MENU/USE_MENU/
	* s/MOUSE/USE_MOUSE/

	* [w3m-dev 02480] new configure
	* config.h.dist: updated
	* configure: $def_emacs_like_lineedit, $def_vi_prec_num
	   $def_label_topline, $def_nextpage_topline
	   $def_use_mark, $def_use_gopher, $def_use_alarm
	* configure: add --{ssl,gc}-{include,lib}dir, --mimetypes
	* configure: BoehmGC Debian hack
	* XMakefile: add $(OPTS)
	* terms.c: use HAVE_SYS_SELECT_H
	* configure: add sys/select.h detection
	* configure: no_float_h -> float_h
	* configure: add chdir() detection
	* local.c (localcgi_post): use HAVE_CHDIR instead of __EMX__
	* local.c (localcgi_get): ditto
	* main.c: <time.h> no need for #ifdef __EMX__
	   other files already do #include <time.h>

	[w3m-dev 02479]
	* rc.c (init_rc): remove #ifdef __EMX__ for tmpdir
	* config.h.dit: updated
	* url.c (openURL): use CGI_EXTENSION
	  add extlen
	* rc.c (helpFile): remove #ifdef __EMX__
	  use w3m_help_dir()
	* w3mbookmark.c (lib_dir): removed
	* w3mbookmark.c (print_bookmark_panel): use w3m_lib_dir()
	* rc.c (libFile): remove #ifdef __EMX__
	  use w3m_lib_dir() 
	* local.c (get_os2_dft): removed
	* local.c (check_local_cgi): use w3m_lib_dir() instead of lib_dir
	* local.c (cgi_filename): ditto
	* indep.c (w3m_dir): added
	* indep.c (w3m_lib_dir w3m_help_dir): ditto
	* indep.h (w3m_lib_dir w3m_help_dir): ditto
	* terms.c (set_tty): remove #ifdef __EMX__
	  use DEV_TTY_PATH
	* local.c (localcgi_get): use DEV_NULL_PATH
	* w3mhelperpanel.c (printMailcapPanal): remove #ifdef __EMX__
	  use W3mHELPERPANEL_CMDNAME
	* rc.c (optionpanel_src1): ditto
	* w3mbookmark.c (bkmark_src1): remove #ifdef __EMX__
	  use W3MBOOKMARK_CMDNAME
	* main.c (adBmark): ditto
	  use w3m_lib_dir()
	* terms.c (getTCstr): remove #ifdef __DJGPP__
	  use DEFAULT_TERM
	  check ent is NULL
	* main.c (fusage): remove #ifdef SHOW_PARAMS
	* main.c (MAIN): ditto
	* rc.c (show_params): ditto
	* fm.h (view_unseenobject): remove #ifdef VIEW_UNSEENOBJECTS
	* url.c (check_no_proxy): remove #ifdef NOPROXY_NETADDR
	* configure (show_params): removed
	* configure (config.h): 
	  - fix comment for USE_MARK
	  - add MENU_THIN_FRAME
	  - move $def_nntp (USE_NNTP), $def_ansi_color (ANSI_COLOR)
	  - remove VIEW_UNSEENOBJECTS
	  - remove $def_show_params (SHOW_PARAMS)
	  - define DEFAULT_TERM
	  - define W3MBOOKMARK_CMDNAME
	  - define W3MHELPERPANEL_CMDNAME
	  - define DEV_NULL_PATH
	  - define DEV_TTY_PATH
	  - define CGI_EXTENSION

	[w3m-dev 02478]
	* Makefile: make -> $(MAKE)
	
2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02473]
	* scripts/Makefile: chmod +x
	* scripts/Makefile: add clean target
	* scripts/multipart/Makefile: ditto
	* scripts/w3mman/Makefile: ditto
	* XMakefile: clean scripts
	* scripts/dirlist.cgi: removed from CVS
	* Makefile (install-scripts): added
	* XMakefile: (install-scripts): depends all-scripts

2001-11-21  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02470]
	* XMakefile: all of scripts are generated by this instead of configure
	* configure: add PERL, remove scripts/dirlist.cgi generation
	* config.h.dist: add PERL
	* scripts/Makefile: added
	* scripts/multipart/Makefile scripts/w3mman/Makefile:
	  new scripts generation and installation
	* scripts/multipart/README scripts/w3mman/README: update

2001-11-21  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02472] cleanup CYGWIN macro
	* display.c (displayBuffer): use __CYGWIN__ macro
	* fm.h: ditto
	* terms.c (refresh): add condition for isWinConsole which
          defined only japanese cygwin environment

2001-11-21  Akinori Ito <aito@fw.ipsj.or.jp>

	* [w3m-dev 02466]
	  Homepage URLs and author's mail addresses in the documents
	  are changed.

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02459] 
	* XMakefile: update scripts/dirlist.cgi generation
	* scripts/multipart/multipart.cgi: removed
	* scripts/w3mman/w3mman scripts/w3mman/w3mman2html.cgi: removed
	
	* [w3m-dev 02462]
	* scripts/dirlist.in scripts/dirlist.cgi: removed
	* scripts/dirlist.cgi.in: added

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* add rcsids

2001-11-21  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02454]
	* buffer.c (newBuffer): set COLS
	* display.c (displayBuffer redrawLine redrawLineRegion
	    cursorRight arrangeCursor cursorXY): 
	  new showLineNumber implementation
	* main.c (ctrCsrH shiftvisualpos shiftl shiftr _movL _movR
	   _followForm follow_map process_mouse):
	  use buf->COLS, buf->rootX
	* menu.c (popupMenu mainMn initSelectMenu):
	  use buf->rootX
	* etc.c (columnSkip): use buf->COLS
	* file.c (HTMLlineproc2body loadBuffer saveBufferDelNum getNextPage)
	  remove old showLineNumber codes
	* fm.h (Buffer): add rootX, COLS

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* XMakefile (clean): rm tagtable.c
	* .cvsignore: XXMakefile config.h config.param

2001-11-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02455]
	* XMakefile.dist deflate.c: removed, not used
	* tagtable.c: removed, autogenerated files
	* XMakefile (mktable w3mbookmark w3mhelperpanel): use LIBS2
	* configure: add $bsdlib

2001-11-20  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* frame.c (newFrameSet): fix possible buffer overrun

2001-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* XXMakefile config.h: removed from CVS
	  these are autogenerated files.
	  config.h is moved to config.h.dist as sample config file.

2001-11-20  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02449]
	* file.c (HTMLtagproc1): reimplement meta refresh with
          setAlarmEvent()
	* fm.h: put back alarm related variables to main.c
          add alarm related status flags
	* main.c: put back alarm related variables from fm.h
          alarm_once was renamed alarm_status
          add alarm_buffer and setAlarmEvent()
	* main.c (MAIN): cancel the alarm event if the buffer was
          changed
	* main.c (SigAlarm): ditto
	* main.c (setAlarm): use setAlarmEvent()
	* proto.h: add setAlarmEvent()

2001-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3mhelperpanel.c (extractMailcapEntry): remove unused variables
	* istream.c (StrISgets): add parentheses around assignment used 
	  as truth value
	
	* XMakefile (clean): remove funcname.c funcname1.h funcname2.h
	  these are autogenerated files.
	* funcname.c funcname1.h funcname2.h: removed from CVS

	* main.c (MAIN): add braces to avoid ambiguous `else'
	* main.c (set_buffer_environ): remove unused variables
	* linein.c (_rcompl): not EMACS_LIKE_LINEEDIT only
	* local.c (localcgi_get): remove unused variables
	* mailcap.c (unquote_mailcap_loop): remove unused variables
	* url.c (init_PRNG) add parentheses around assignment used as true value
	* url.c (parseURL): remove unsed label
	* url.c (parseURL2): remove unused variables
	* ftp.c (ftp_escape_str ftp_restore_str): remove not used functions
	* indep.c (getescapechar): remove unused variable
	
	* proto.h: add missing prototypes

2001-11-20  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02447]
	* terms.c (skip_escseq): is_xterm && ESC [ M <ch> <ch> <ch>

2001-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02448]
	* terms.c (mouse_init): Gpm_Close() is required.
	  closes: Debian Bug#120221: w3m-ssl: trashes terminal on exit

2001-11-20  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02444]
	* XMakefile (funcname1.h funcname2.h): sort as well as funcname.c

2001-11-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02439]
	* terms.c (xterm_mouse_term set_tty): add cygwin as xterm-style
	  mouse terminal

2001-11-19  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02436] 
	* main.c (GetWord): closes: #482763 segmentation fault in main.c

2001-11-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gc/.cvsignore:
	  remove gctest, if_mach, if_not_there, threadlibs
	  closes: #482765 i386 binaries in gc directory

2001-11-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02432]
	* configure: follow autoconf conventions
	  STRCASECMP -> HAVE_STRCASECMP
	  STRCHR -> HAVE_STRCHR
	  STRERROR -> HAVE_STRERROR
	  SYS_ERRLIST -> HAVE_SYS_ERRLIST
	  NOBCOPY -> HAVE_BCOPY
	  GETCWD -> HAVE_GETCWD
	  GETWD -> HAVE_GETWD
	  READLINK -> HAVE_READLINK (HAVE_LSTAT?)
	  TERMIO -> HAVE_TERMIO_H
	  TERMIOS -> HAVE_TERMIOS_H
	  SGTTY -> HAVE_SGTTY_H
	  DIRENT -> HAVE_DIRENT_H
	  NO_FLOAT_H -> HAVE_FLOAT_H
	* etc.c fm.h config.h: HAVE_STRCASECMP
	* etc.c config.h file.c: HAVE_STRCHR
	    strchr() moved from file.c to etc.c
	* etc.c config.h: HAVE_STRERROR
	* etc.c config.h main.c (MAIN): HAVE_SYS_ERRLIST
	* etc.c fm.h: HAVE_BCOPY
	* etc.c indep.c (currentdir) config.h: HAVE_GETCWD
	* indep.c (currentdir) config.h: HAVE_GETWD
	* form.c (form_write_from_file) local.c (dirBuffer) 
	  config.h: HAVE_READLINK
	* config.h terms.c: HAVE_TERMIO_H, HAVE_TERMIOS_H, HAVE_SGTTY_H
	* config.h local.h: HAVE_DIRENT_H
	* config.h matric.c: HAVE_FLOAT_H

	* anchor.c cookie.c file.c parsetagx.c regex.c table.c url.c: 
	  remove include <strings.h> ifdef __EMX__
	   it will be included in fm.h
	* frame.c: remove include <strings.h> for bzero() and bcopy()
	    these are declared in fm.h
	* indep.c: remove include <strings.h> for bcopy()
	    this is declared in fm.h
	* istream.c mailcap.c: remove include <strings.h> for bzero()
	    this is declared in fm.h
	* parsetag.c: remove include <strings.h> for bzero()
	    no bzero() used in this file

	* [w3m-dev 02431]
	* terms.c (set_tty): "rxvt" is xterm
	  (getTCstr): tgetstr("Km", &pt) is not xterm, removed
	  (mouse_init): check Gpm_Open() == -2 to detect xterm when USE_GPM

2001-11-16  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02418]
	* main.c (chkURL): add mailto: like pattern to mark as anchor
	* search.c (forwardSearch): check whether currentLine is NULL 
	* search.c (backwardSearch): ditto

2001-11-16  Dai Sato  <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev-en 00641] Re: w3m-0.2.1-inu-1.6
	* configure: add some dirs for zlib and mime.types

2001-11-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02417]
	* terms.c (mouse_init): fix mouse handling on TERM=linux
	   if Gpm_Open() successed, set is_xterm = 0 so that 
	   w3m uses gpm functions.

2001-11-16  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02408] meta refresh
	* file.c (HTMLtagproc1): 
	   use MetaRefresh
	   add case refresh > 0
	* fm.h: 
	   add MetaRefresh
	   move alarm related definition from main.c
	* main.c: 
	   move alarm releated definition to fm.h
	   (SigAlarm): alarm_once
	* rc.c: 
	   add CMT_META_REFRESH

	* [w3m-dev 02415] 
	* file.c (loadHTMLBuffer): 
	  pushText() to clean up temporary files

	* [w3m-dev 02414]
	* file.c (loadHTMLstream): 
	  SETJMP and signal after buffer is initialized

	* [w3m-dev 02413] 
	* main.c (reMark): 
	  don't save invalid regexp to MarkString

2001-11-15  aito@eie.yz.yamagata-u.ac.jp

	* release-0-2-2
	* Update to w3m-0.2.1-inu-1.6
	
2001-11-09  aito@eie.yz.yamagata-u.ac.jp

	* release-0-2-1-inu-1-5
	* Updates from 0.2.1 into 0.2.1-inu-1.5
	
2001-11-08  aito@eie.yz.yamagata-u.ac.jp

	* release-0-2-1
	* import w3m-0.2.1

$Id: ChangeLog,v 1.356 2002/03/19 15:54:47 ukai Exp $
